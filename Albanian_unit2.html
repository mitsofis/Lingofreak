<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn Albanian with ease! Explore interactive lessons, vocabulary, grammar tips, and cultural insights to master the Albanian language.">
    <meta name="keywords" content="learn Albanian, Albanian language, Albanian lessons, language learning, Albanian culture">
    <meta name="author" content="Your Name">
    <title>Learn Albanian</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<br><link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <h3>🟨 UNIT 2: Prezantime dhe Biseda të Vogla (Introductions and Small Talk)</h3>
    <div id="progress">Progress: 0/6 sections</div>
    <!-- Tabs Navigation -->
    <div class="tabs">
        <button class="tab-link active" onclick="openTab(event, 'dialogues')" type="button">Dialogues</button>
        <button class="tab-link" onclick="openTab(event, 'vocabulary')" type="button">Vocabulary</button>
        <button class="tab-link" onclick="openTab(event, 'grammar')" type="button">Grammar</button>
        <button class="tab-link" onclick="openTab(event, 'exercises')" type="button">Exercises</button>
        <button class="tab-link" onclick="openTab(event, 'reading')" type="button">Reading Passages</button>
        <button class="tab-link" onclick="openTab(event, 'cultural')" type="button">Cultural Notes</button>
        <button class="tab-link" id="speaking-tab2" onclick="openTab(event, 'speaking2')" type="button">Speaking Practice 🗣️</button>
    </div>

    <!-- Tab Content -->

<!-- DIALOGUES TAB HTML --> 
    <div class="tab-content active" id="dialogues">
      
       

      <!-- Dialogue 1: Standard Albanian -->
      <section>
      <div class="dialogue standard">
          
            <h3 class="dialojgue-title">🏙️ Dialogue 1 – Formal Introduction (Standard Albanian)</h3>
            <div class="basic-phrases">
                <h3>👋Basic Phrases:</h3>
                <ul>
                    <li>Si quheni? – What’s your name?</li>
                    <li>Unë jam… – I am…</li>
                    <li>Kënaqësi t’ju takoj! – Pleasure to meet you!</li>
                    <li>Ku punoni? – Where do you work?</li>
                    <li>Shihemi përsëri! – See you again!</li>
                </ul>
          </div>
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the phrases.</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
          
        <div class="dialogue-text"><h3>💬 Dialogue</h3>
                <p><b>Ema:</b> Përshëndetje! Si quheni?</p>
                <p><b>Ilir:</b> Përshëndetje! Unë jam Ilir. Po ju?</p>
                <p><b>Ema:</b> Ema. Kënaqësi t’ju takoj! Ku punoni, Ilir?</p>
                <p><b>Ilir:</b> Jam mësues. Po ju, ku punoni?</p>
                <p><b>Ema:</b> Punoj në një bankë. Nga jeni?</p>
                <p><b>Ilir:</b> Nga Korça. Ju?</p>
                <p><b>Ema:</b> Nga Tirana. Shihemi përsëri!</p>
            </div>
          <!--audio!-->
            <div class="audio-section">
<p id="audio-caption">Listen to the dialogue</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/jml6mpmbrbb9wszp9t5yo/unit-2-dialogue-1.m4a?rlkey=1dg1yav4qb29pfguafx58gs5e&st=6lh2shx2&dl=1" type="audio/mpeg"/></audio></div>
          <!--audio end!-->
          
            <div class="translation">
                <h4>📝 Translation</h4>
                <p><b>Ema:</b> Hello! What’s your name?</p>
                <p><b>Ilir:</b> Hello! I’m Ilir. And you?</p>
                <p><b>Ema:</b> Ema. Pleasure to meet you! Where do you work, Ilir?</p>
                <p><b>Ilir:</b> I’m a teacher. And you, where do you work?</p>
                <p><b>Ema:</b> I work in a bank. Where are you from?</p>
                <p><b>Ilir:</b> From Korça. You?</p>
                <p><b>Ema:</b> From Tirana. See you again!</p>
            </div>
          
      
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
              
                <div class="glossary-row">
                    <div class="word-pair" onclick="playAudio('audio-si-quheni2')">
                        <span class="glossary-term">Si quheni</span>
                        <span>What’s your name</span>
                    </div>
                    <div class="word-pair" onclick="playAudio('audio-kenaqesi2')">
                        <span class="glossary-term">Kënaqësi</span>
                        <span>Pleasure</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair" onclick="playAudio('audio-punoni')">
                        <span class="glossary-term">Punoni</span>
                        <span>You work</span>
                    </div>
                    <div class="word-pair" onclick="playAudio('audio-mesues')">
                        <span class="glossary-term">Mësues</span>
                        <span>Teacher</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair" onclick="playAudio('audio-banke')">
                        <span class="glossary-term">Bankë</span>
                        <span>Bank</span>
                    </div>
                </div>
             </div>
                <div class="culture-tip">💡 Asking <b>Si quheni?</b> politely opens doors in formal Albanian settings!</div>
        </div>
        </section>
     

 <!-- Dialogue 2: Standard Albanian -->
       <section>
          <div class="dialogue standard">
          
            <h3>🏙️ Dialogue 2 – Meeting at a Café (Standard Albanian)</h3>
            <div class="basic-phrases">
                <h3>👋Basic Phrases:</h3>
                <ul>
                    <li>A mund të ulem këtu? – Can I sit here?</li>
                    <li>Sigurisht! – Sure!</li>
                    <li>Ku punoni? – Where do you work?</li>
                    <li>Më pëlqen këtu. – I like it here.</li>
                    <li>Shihemi nesër! – See you tomorrow!</li>
                </ul>
            </div>

          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the phrases.</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio>
            </div>

          <!--audio end!-->

          

        <div class="dialogue-text">
           
                <p><b>Sara:</b> Përshëndetje! A mund të ulem këtu?</p>
                <p><b>Endri:</b> Sigurisht! Si quheni?</p>
                <p><b>Sara:</b> Sara. Po ju?</p>
                <p><b>Endri:</b> Endri. Ku punoni, Sara?</p>
                <p><b>Sara:</b> Jam infermiere. Po ju?</p>
                <p><b>Endri:</b> Inxhinier. Më pëlqen këtu, kafeja është e mirë!</p>
                <p><b>Sara:</b> Po, shumë! Shihemi nesër!</p>
           </div>
          
         
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the dialogue</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
         
          
          
            <div class="translation">
                <h4>📝 Translation</h4>
                <p><b>Sara:</b> Hello! Can I sit here?</p>
                <p><b>Endri:</b> Sure! What’s your name?</p>
                <p><b>Sara:</b> Sara. And you?</p>
                <p><b>Endri:</b> Endri. Where do you work, Sara?</p>
                <p><b>Sara:</b> I’m a nurse. You?</p>
                <p><b>Endri:</b> Engineer. I like it here, the coffee’s good!</p>
                <p><b>Sara:</b> Yeah, totally! See you tomorrow!</p>
            </div>
    
          
         
            <h4>📘 Glossary</h4>
       <div class="glossary-container">
         
               <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Mund</span>
                        <span>Can</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ulem</span>
                        <span>I sit</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Sigurisht</span>
                        <span>Sure</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Infermiere</span>
                        <span>Nurse</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Inxhinier</span>
                        <span>Engineer</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pëlqen</span>
                        <span>I like</span>
                    </div>
                </div>
              </div>
                <div class="culture-tip">💡 Offering to share a table with <b>A mund të ulem këtu?</b> is a friendly gesture in Albanian cafés!
                </div>
           </div>
      </section>
 <!-- Dialogue 3: Colloquial Albanian -->.    <section>
        <div class="dialogue colloquial">
          
            <h3>🏙️ Dialogue 3 – Casual Intro (Colloquial Albanian)</h3>
            <div class="basic-phrases">
                <h3>👋Basic Phrases:</h3>
                <ul>
                    <li>Si quhesh, mo? – What’s your name, man?</li>
                    <li>Ç’punon ti? – What do you work as?</li>
                    <li>Ok, super! – Cool, awesome!</li>
                    <li>Ku rri zakonisht? – Where you usually hang out?</li>
                    <li>Shihemi, bro! – Catch you later, bro!</li>
                </ul>
            
                    </div>
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the phrases.</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
          
        <div class="dialogue-text">
                <p><b>Jon:</b> Hej, si quhesh, mo?</p>
                <p><b>Lea:</b> Lea, po ti?</p>
                <p><b>Jon:</b> Jon. Ç’punon ti?</p>
                <p><b>Lea:</b> Punoj n’bar, mo. Ti?</p>
                <p><b>Jon:</b> Mekanik. Ku rri zakonisht?</p>
                <p><b>Lea:</b> Te lagjja e re. Ti?</p>
                <p><b>Jon:</b> Ok, super! Shihemi, bro!</p>
            </div>
          
          
          <!--audio!-->

           <div class="audio-section">

<p id="audio-caption">Listen to the dialogue</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio>
          </div>

          <!--audio end!-->
          
          
            <div class="translation">
                <h4>📝 Translation</h4>
                <p><b>Jon:</b> Hey, what’s your name, man?</p>
                <p><b>Lea:</b> Lea, you?</p>
                <p><b>Jon:</b> Jon. What do you work as?</p>
                <p><b>Lea:</b> I work at a bar, man. You?</p>
                <p><b>Jon:</b> Mechanic. Where you usually hang out?</p>
                <p><b>Lea:</b> New neighborhood. You?</p>
                <p><b>Jon:</b> Cool, awesome! Catch you later, bro!</p>
            </div>
          
            <h4>📘 Glossary</h4>
           <div class="glossary-container">
              
              <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Quhesh</span>
                        <span>You’re called</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Punon</span>
                        <span>You work</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Bar</span>
                        <span>Bar</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Mekanik</span>
                        <span>Mechanic</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Rri</span>
                        <span>Hang out</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Zakonisht</span>
                        <span>Usually</span>
                    </div>
                </div></div>
                <div class="culture-tip">💡 <b>Mo</b> and <b>bro</b> add a laid-back vibe to urban Albanian chats!
                </div>
          
        </div>
</section>
 
        <!-- Dialogue 4: Gheg Dialect -->
        <section>
      <div class="dialogue gheg">
            <h3>🏔️ Dialogue 4 – Market Chat in Shkodra (Gheg Dialect)</h3>
            <div class="scene-note">

              

            </div>

          
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the phrases.</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
            <div class="basic-phrases">
                <h4>Basic Phrases:</h4>
                <ul>
                    <li>Si quhesh, zotni? – What’s your name, sir?</li>
                    <li>Unë jam… – I am…</li>
                    <li>Çka punon? – What do you work as?</li>
                    <li>Gëzohem t’ju njoh! – Glad to know you!</li>
                    <li>N’katund je? – You from the village?</li>
                </ul></div>
              
              
              <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the dialogue .</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
               

        <div class="dialogue-text">
                <p><b>Vali:</b> Tungjatjeta! Si quhesh, zotni?</p>
                <p><b>Dritan:</b> Unë jam Dritan. Ti?</p>
                <p><b>Vali:</b> Vali. Gëzohem t’ju njoh! Çka punon?</p>
                <p><b>Dritan:</b> Jam bujk. Ti çka punon?</p>
                <p><b>Vali:</b> Shitës n’pazar. N’katund je?</p>
                <p><b>Dritan:</b> Po, n’katund afër. Ti?</p>
                <p><b>Vali:</b> N’Shkodër. Shihemi!</p>
            </div>
            <div class="translation">
                <h4>📝 Translation</h4>
                <p><b>Vali:</b> Long life! What’s your name, sir?</p>
                <p><b>Dritan:</b> I’m Dritan. You?</p>
                <p><b>Vali:</b> Vali. Glad to know you! What do you work as?</p>
                <p><b>Dritan:</b> I’m a farmer. You?</p>
                <p><b>Vali:</b> Seller at the market. You from the village?</p>
                <p><b>Dritan:</b> Yeah, nearby village. You?</p>
                <p><b>Vali:</b> In Shkodra. See you!</p>
            </div>
            
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
                
              <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Zotni</span>
                        <span>Sir</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Gëzohem</span>
                        <span>I’m glad</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Njoh</span>
                        <span>Know</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Bujk</span>
                        <span>Farmer</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Punon</span>
                        <span>You work</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pazar</span>
                        <span>Market</span>
                    </div>
                </div>
              </div>
                <div class="culture-tip">💡 <b>Zotni</b> adds respect in Gheg markets, paired with a nasal twang!</div>
</div>
</section>
     
        <!-- Dialogue 5: Tosk Dialect (Placeholder) -->
      <section>
        <div class="dialogue tosk">
          
            <h3>🌊 Dialogue 5 – Beach Chat in Saranda (Tosk Dialect)</h3>
            <div class="basic-phrases">
                <h4>Basic Phrases:</h4>
                <ul>
                    <li>Si quhesh, more? – What’s your name, dear?</li>
                    <li>Rrofsh! – Bless you!</li>
                    <li>Çfarë punon ti? – What do you work as?</li>
                    <li>Mirë t’pash! – Good to see you!</li>
                    <li>Nga fshati je? – You from the village?</li>
                </ul>
              
              </div>
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the phrases.</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
          
        <div class="dialogue-text">
            
                <p><i>[Dialogue text missing from source. Placeholder content used.]</i></p>
                <p><b>Lori:</b> Përshëndetje! Si quhesh, more?</p>
                <p><b>Kosta:</b> Kosta, rrofsh! Po ti?</p>
                <p><b>Lori:</b> Lori. Mirë t’pash! Çfarë punon ti?</p>
                <p><b>Kosta:</b> Punoj në hotel. Po ti?</p>
                <p><b>Lori:</b> Jam kuzhiniere. Nga fshati je?</p>
                <p><b>Kosta:</b> Jo, nga Saranda. Ti?</p>
                <p><b>Lori:</b> Nga një fshat afër. Shihemi!</p>
            </div>
          
          
          <!--audio!-->

            <div class="audio-section">

<p id="audio-caption">Listen to the dialogue</p><audio controls id="audio-section"><source src="https://www.dropbox.com/scl/fi/dtw638yw4chhsqb1iwz0l/unit-2-basic-phrases.m4a?rlkey=08zcmm4tb9f41pn8xh9rkwqwu&st=fkuz2f0m&dl=1" type="audio/mpeg"/></audio></div>

          <!--audio end!-->
          
            <div class="translation">
                <h4>📝 Translation</h4>
                <p><b>Lori:</b> Hello! What’s your name, dear?</p>
                <p><b>Kosta:</b> Kosta, bless you! You?</p>
                <p><b>Lori:</b> Lori. Good to see you! What do you work as?</p>
                <p><b>Kosta:</b> I work at a hotel. You?</p>
                <p><b>Lori:</b> I’m a cook. You from the village?</p>
                <p><b>Kosta:</b> No, from Saranda. You?</p>
                <p><b>Lori:</b> From a nearby village. See you!</p>
            </div>
           
            
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">More</span>
                        <span>Dear</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Rrofsh</span>
                        <span>Bless you</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Punon</span>
                        <span>You work</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Hotel</span>
                        <span>Hotel</span>
                    </div>
                </div>
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Kuzhiniere</span>
                        <span>Cook</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Fshati</span>
                        <span>Village</span>
                    </div>
                </div>
              </div>
                <div class="culture-tip">💡 <b>Rrofsh</b> adds a warm, melodic touch to Tosk introductions!</div>
        </div>
        </section>
    </div>
 
<!--DIALOGUES TAB END--!>



  <!--VOCABULARY TAB-->
    <div class="tab-content" id="vocabulary">
        <section class="vocabulary">
            <h3>🧠 Vocabulary</h3>

            <!--Introductions Category-->
            <h4>👋 Introductions</h4>
            <div class="vocab-list">
                <div class="vocab-item" onclick="toggleRow('intro1')">
                    <div class="vocab-field"><b>Standard:</b> Si quheni</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /si ˈkuhɛni/<br />
                        </div>
                    <div class="vocab-field"><b>Colloquial:</b> Si quhesh, mo?</div>
                    <div class="vocab-field"><b>Gheg:</b> Si quhesh</div>
                    <div class="vocab-field"><b>Tosk:</b> Si quhesh, more?</div>
                    <div class="vocab-field"><b>Meaning:</b> What’s your name?</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Si quheni? Unë jam Ema.</div>
                    <div class="hidden vocab-translation" id="intro1">What’s your name? I’m Ema.</div>
                </div>
                <div class="vocab-item" onclick="toggleRow('intro2')">
                    <div class="vocab-field"><b>Standard:</b> Kënaqësi</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /kənaˈtʃɛsi/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Ok, super!</div>
                    <div class="vocab-field"><b>Gheg:</b> Gëzohem</div>
                    <div class="vocab-field"><b>Tosk:</b> Mirë t’pash!</div>
                    <div class="vocab-field"><b>Meaning:</b> Pleasure / Nice to meet</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Kënaqësi t’ju takoj!</div>
                    <div class="hidden vocab-translation" id="intro2">Pleasure to meet you!</div>
                </div></div>
            

            <!--Occupations Category-->
            <h4>💼 Occupations</h4>
            <div class="vocab-list">
                <div class="vocab-item" onclick="toggleRow('occ1')">
                    <div class="vocab-field"><b>Standard:</b> Mësues</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /məˈsuɛs/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Mësues</div>
                    <div class="vocab-field"><b>Gheg:</b> Mësues</div>
                    <div class="vocab-field"><b>Tosk:</b> Mësues</div>
                    <div class="vocab-field"><b>Meaning:</b> Teacher</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Jam mësues në shkollë.</div>
                    <div class="hidden vocab-translation" id="occ1">I’m a teacher at school.</div></div>
               
                <div class="vocab-item" onclick="toggleRow('occ2')">
                    <div class="vocab-field"><b>Standard:</b> Inxhinier</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /inʒiˈniɛr/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Inxhinier</div>
                    <div class="vocab-field"><b>Gheg:</b> Inxhinier</div>
                    <div class="vocab-field"><b>Tosk:</b> Inxhinier</div>
                    <div class="vocab-field"><b>Meaning:</b> Engineer</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Ai është inxhinier.</div>
                    <div class="hidden vocab-translation" id="occ2">He’s an engineer.</div>
                </div>
                <div class="vocab-item" onclick="toggleRow('occ3')">
                    <div class="vocab-field"><b>Standard:</b> Infermiere</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /infɛrˈmiɛrɛ/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Infermiere</div>
                    <div class="vocab-field"><b>Gheg:</b> Infermiere</div>
                    <div class="vocab-field"><b>Tosk:</b> Infermiere</div>
                    <div class="vocab-field"><b>Meaning:</b> Nurse</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Ajo është infermiere.</div>
                    <div class="hidden vocab-translation" id="occ3">She’s a nurse.</div>
                </div>
            </div>

            <!--Questions Category-->
            <h4><br /></h4><h4>❓ Questions</h4>
            <div class="vocab-list">
                <div class="vocab-item" onclick="toggleRow('ques1')">
                    <div class="vocab-field"><b>Standard:</b> Çfarë</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /ˈtʃfarə/</div>
                    <div class="vocab-field highlight-colloquial"><b>Colloquial:</b> Ça</div>
                    <div class="vocab-field"><b>Gheg:</b> Çka</div>
                    <div class="vocab-field"><b>Tosk:</b> Çfarë</div>
                    <div class="vocab-field"><b>Meaning:</b> What</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Çfarë pune bëni?</div>
                    <div class="hidden vocab-translation" id="ques1">What’s your job?</div>
                </div>
                <div class="vocab-item" onclick="toggleRow('ques2')">
                    <div class="vocab-field"><b>Standard:</b> Ku</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /ku/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Ku</div>
                    <div class="vocab-field"><b>Gheg:</b> Ku</div>
                    <div class="vocab-field"><b>Tosk:</b> Ku</div>
                    <div class="vocab-field"><b>Meaning:</b> Where</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Ku rri zakonisht?</div>
                    <div class="hidden vocab-translation" id="ques2">Where do you usually hang out?</div>
                </div>
            </div>

            <!--Responses Category-->
            <h4><br /></h4><h4>👍 Responses</h4>
            <div class="vocab-list">
                <div class="vocab-item" onclick="toggleRow('resp1')">
                    <div class="vocab-field"><b>Standard:</b> Sigurisht</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /siguˈriʃt/</div>
                    <div class="vocab-field highlight-colloquial"><b>Colloquial:</b> Ok, super!</div>
                    <div class="vocab-field"><b>Gheg:</b> Po</div>
                    <div class="vocab-field"><b>Tosk:</b> Sigurisht</div>
                    <div class="vocab-field"><b>Meaning:</b> Sure / Okay</div>
                    <div class="vocab-field"><b>Example (Standard):</b> A mund të ulem? Sigurisht!</div>
                    <div class="hidden vocab-translation" id="resp1">Can I sit? Sure!</div>
                </div>
                <div class="vocab-item" onclick="toggleRow('resp2')">
                    <div class="vocab-field"><b>Standard:</b> Shihemi</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /ʃihɛˈmi/</div>
                    <div class="vocab-field highlight-colloquial"><b>Colloquial:</b> Shihemi, bro!</div>
                    <div class="vocab-field"><b>Gheg:</b> Shihemi</div>
                    <div class="vocab-field"><b>Tosk:</b> Shihemi</div>
                    <div class="vocab-field"><b>Meaning:</b> See you</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Shihemi nesër!</div>
                    <div class="hidden vocab-translation" id="resp2">See you tomorrow!</div>
                </div>
            </div>

            <!--Places Category-->
            <h4><br /></h4><h4>📍 Places</h4>
            <div class="vocab-list">
                <div class="vocab-item" onclick="toggleRow('place1')">
                    <div class="vocab-field"><b>Standard:</b> Pazar</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /paˈzar/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Pazar</div>
                    <div class="vocab-field"><b>Gheg:</b> Pazar</div>
                    <div class="vocab-field"><b>Tosk:</b> Pazar</div>
                    <div class="vocab-field"><b>Meaning:</b> Market</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Punoj në pazar.</div>
                    <div class="hidden vocab-translation" id="place1">I work at the market.</div>
                </div>
                <div class="vocab-item" onclick="toggleRow('place2')">
                    <div class="vocab-field"><b>Standard:</b> Hotel</div>
                    <div class="vocab-field"><b>Pronunciation:</b> /hoˈtɛl/</div>
                    <div class="vocab-field"><b>Colloquial:</b> Hotel</div>
                    <div class="vocab-field"><b>Gheg:</b> Hotel</div>
                    <div class="vocab-field"><b>Tosk:</b> Hotel</div>
                    <div class="vocab-field"><b>Meaning:</b> Hotel</div>
                    <div class="vocab-field"><b>Example (Standard):</b> Punoj n’hotel.</div>
                    <div class="hidden vocab-translation" id="place2">I work at a hotel.</div>
                </div>
            </div>

            <!--Dialectal Nuances Note-->
            <p class="note"><b>Dialectal Nuances:</b> Gheg nasalizes vowels (e.g., "nji" /ɲi/, marked in <span class="highlight-gheg">red</span>). Colloquial uses slang like "mo" or "bro" (<span class="highlight-colloquial">green</span>). Tosk’s "<span class="tooltip" data-tooltip="Tosk blessing, means 'long life'">rrofsh</span>" or "more" adds warmth (<span class="highlight-tosk">orange</span>).</p>

            <!--Interactive Quiz Button-->
            <div id="quiz-container">
                <button id="quizbut" onclick="quizMe()">Quiz Me!</button>
                <p id="quiz-word"></p>
                <button id="show-answer" onclick="showAnswer()">Show Answer</button>
                <p class="hidden" id="quiz-answer"></p>
            </div>
      </section>       
    </div>



<!--GRAMMAR TAB !-->
  
<div class="tab-content grammar-tab" id="grammar">
  <section class="grammar-container">

    <h3 class="grammar-heading">📚 Grammar Focus: Present Tense of “Bëj”</h3>

    <div class="grammar-card">
      <h4 class="card-title">Overview</h4>
      <ul>
        <li><b>Standard:</b> <span class="ipa">/bəj/</span> – Used in media and formal settings.</li>
        <li><b>Colloquial:</b> “Ça bën?” <span class="ipa">/tsa bən/</span> – Casual and conversational.</li>
        <li><b>Gheg:</b> “Baj” <span class="ipa">/bãj/</span> – Nasalized tone.</li>
        <li><b>Tosk:</b> “Bën” <span class="ipa">/bɛn/</span> – Softer pronunciation with “rrofsh”.</li>
      </ul>
    </div>

    <div class="grammar-card">
      <h4 class="card-title">Verb Forms with IPA</h4>
      <ul>
        <li><b>Unë bëj</b> – I do <span class="ipa">/bəj/</span></li>
        <li><b>Ti bën</b> – You do <span class="ipa">/bən/</span></li>
        <li><b>Ai/Ajo bën</b> – He/She does <span class="ipa">/bən/</span></li>
        <li><b>Ne bëjmë</b> – We do <span class="ipa">/ˈbəjmə/</span></li>
        <li><b>Ju bëni</b> – You all do <span class="ipa">/ˈbəni/</span></li>
        <li><b>Ata/Ato bëjnë</b> – They do <span class="ipa">/ˈbəjnə/</span></li>
      </ul>
    </div>

    <div class="grammar-card">
      <h4 class="card-title">Examples</h4>
      <ul>
        <li>Unë bëj detyra çdo mbrëmje.</li>
        <li>Ju bëni kafe të mirë?</li>
        <li>Çdo mbrëmje bëj një shëtitje në park.</li>
        <li>Bëj ushtrime çdo mëngjes për të qëndruar në formë.</li>
        <li>Po bëj një rezervim për darkë në restorant.</li>
        <li>Ajo bën pazar çdo të shtunë.</li>
      </ul>
    </div>

    <div class="grammar-card">
      <h4 class="card-title">Usage Notes</h4>
      <ul>
        <li><b>Tasks:</b> “Unë bëj detyrat” – I do the homework.</li>
        <li><b>Questions:</b> “Çfarë bën?” or “Ça bën?” – What are you doing?</li>
        <li><b>Colloquial:</b> Bën mirë! – You’re doing great!</li>
        <li><b>Gheg:</b> <span class="ipa">/bãj/</span> nasal twang</li>
        <li><b>Tosk:</b> <span class="ipa">/bɛn/</span> melodic tone</li>
      </ul>
    </div>

    <div class="grammar-tip">
      <h4>ℹ️Did You Know?</h4>
      <ul>
        <li><b>Listen:</b> Use audio to catch nasal vs. melodic tones.</li>
        <li><b>Practice:</b> Try “Unë baj detyra” vs. “Unë bëj një kafe”.</li>
        <li><b>Challenge:</b> Write 5 <i>bëj</i> sentences across dialects.</li>
      </ul>
      <p><b>💡Culture Tip:</b>Say “Ata bëjnë muhabet n’katund” with a Gheg accent or add “rrofsh” for Tosk flair!</p>
    </div>

  </section>
</div>
 
<!--EXERCISES TAB !-->
    <div class="tab-content" id="exercises">
        <section class="exercises">
            <h3>✍️ Exercises</h3>
            <p>Practice introductions and the verb <i>bëj</i> with these exercises. Check answers with buttons or reveal keys.</p>

            <!--Exercise 1: Multiple Choice-->
            <div class="exercise">
                <h4>Exercise 1: Multiple Choice – Introductions</h4>
                <p>Choose the correct phrase for the situation or dialect.</p>
                <ol>
                    <li>In Standard Albanian, how do you ask “What’s your name?”?</li>
                    <div class="mc-options">
                        <input name="q1" type="radio" value="a" /> a) Ç’bën?<br />
                        <input name="q1" type="radio" value="b" /> b) Si quheni?<br />
                        <input name="q1" type="radio" value="c" /> c) Rrofsh!<br />
                        <input name="q1" type="radio" value="d" /> d) Ok, mo!
                    </div>
                    <li>In Gheg, how do you say “What do you do?”?</li>
                    <div class="mc-options">
                        <input name="q2" type="radio" value="a" /> a) Çfarë bëni?<br />
                        <input name="q2" type="radio" value="b" /> b) Çka ban?<br />
                        <input name="q2" type="radio" value="c" /> c) Si je more?<br />
                        <input name="q2" type="radio" value="d" /> d) Mirë t’pash!
                    </div>
                    <li>Colloquially, how do you say “See you”?</li>
                    <div class="mc-options">
                        <input name="q3" type="radio" value="a" /> a) Shihemi, bro!<br />
                        <input name="q3" type="radio" value="b" /> b) Kënaqësi!<br />
                        <input name="q3" type="radio" value="c" /> c) Sigurisht!<br />
                        <input name="q3" type="radio" value="d" /> d) Tungjatjeta!
                    </div>
                </ol>
                <button onclick="checkMCAnswers()">Check Answers</button>
                <p id="mc-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>1. b) Si quheni?</li>
                        <li>2. b) Çka ban?</li>
                        <li>3. a) Shihemi, bro!</li>
                    </ul>
                </div>
            </div>

            <!--Exercise 2: Fill-in-the-Blank-->
            <div class="exercise">
                <h4>Exercise 2: Fill-in-the-Blank – Verb <i>Bëj</i></h4>
                <p>Complete with the correct form of <i>bëj</i>.</p>
                <ol>
                    <li>Unë ___ (I do) punë si mësues.</li>
                    <li>Ti ___ (You do) muhabet?</li>
                    <li>Ne ___ (We do) kafe të mirë.</li>
                    <li>Ata ___ (They do) punë n’pazar.</li>
                    <li>Ajo ___ (She does) punë në hotel.</li>
                </ol>
                <p>Enter your answers:</p>
                <div class="fill-in">
                    <input id="fill1" type="text" />
                    <input id="fill2" type="text" />
                    <input id="fill3" type="text" />
                    <input id="fill4" type="text" />
                    <input id="fill5" type="text" />
                </div>
                <button onclick="checkFillAnswers()">Check Answers</button>
                <p id="fill-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>1. Unë <b>bëj</b> punë si mësues.</li>
                        <li>2. Ti <b>bën</b> muhabet?</li>
                        <li>3. Ne <b>bëjmë</b> kafe të mirë.</li>
                        <li>4. Ata <b>bëjnë</b> punë n’pazar.</li>
                        <li>5. Ajo <b>bën</b> punë në hotel.</li>
                    </ul>
                </div>
            </div>

            <!--Exercise 3: Matching-->
            <div class="exercise">
                <h4>Exercise 3: Matching – Vocabulary Across Dialects</h4>
                <p>Match words to their meanings and dialects.</p>
                <div class="matching">
                    <div class="match-column" id="words">
                        <h5>Words</h5>
                        <ul>
                            <li id="word1" onclick="selectWord('word1')">Çka</li>
                            <li id="word2" onclick="selectWord('word2')">More</li>
                            <li id="word3" onclick="selectWord('word3')">Sigurisht</li>
                            <li id="word4" onclick="selectWord('word4')">Pazar</li>
                        </ul>
                    </div>
                    <div class="match-column" id="meanings">
                        <h5>Meanings</h5>
                        <ul>
                            <li id="meaning1" onclick="selectMeaning('meaning1')">What (Gheg)</li>
                            <li id="meaning2" onclick="selectMeaning('meaning2')">Dear (Tosk)</li>
                            <li id="meaning3" onclick="selectMeaning('meaning3')">Sure (Standard)</li>
                            <li id="meaning4" onclick="selectMeaning('meaning4')">Market (All)</li>
                        </ul>
                    </div>
                </div>
                <button onclick="checkMatches()">Check Matches</button>
                <button onclick="resetMatches()">Reset</button>
                <p id="match-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>Çka – What (Gheg)</li>
                        <li>More – Dear (Tosk)</li>
                        <li>Sigurisht – Sure (Standard)</li>
                        <li>Pazar – Market (All)</li>
                    </ul>
                </div>
            </div>

            <!--Exercise 4: Dialogue Completion-->
            <div class="exercise">
                <h4>Exercise 4: Dialogue Completion – Mixed Dialects</h4>
                <p>Complete the conversation between a Colloquial speaker (Jon) and a Tosk speaker (Lori).</p>
                <div class="dialogue-text">
                    <p><b>Jon:</b> Hej, si ___ (1. you’re called), mo?</p>
                    <p><b>Lori:</b> Lori, ___ (2. bless you)! Ti?</p>
                    <p><b>Jon:</b> Jon. Ça ___ (3. you do) për punë?</p>
                    <p><b>Lori:</b> Jam kuzhiniere. ___ (4. you)?</p>
                    <p><b>Jon:</b> Mekanik. ___ (5. where) rri?</p>
                    <p><b>Lori:</b> N’fshat. Shihemi!</p>
                </div>
                <p>Enter your answers:</p>
                <div class="fill-in">
                    <input id="dialogue1" type="text" />
                    <input id="dialogue2" type="text" />
                    <input id="dialogue3" type="text" />
                    <input id="dialogue4" type="text" />
                    <input id="dialogue5" type="text" />
                </div>
                <button onclick="checkDialogueAnswers()">Check Answers</button>
                <p id="dialogue-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>1. quhesh</li>
                        <li>2. rrofsh</li>
                        <li>3. bën</li>
                        <li>4. Ti</li>
                        <li>5. Ku</li>
                    </ul>
                </div>
            </div>

            <!--Exercise 5: Quick Quiz-->
            <div class="exercise">
                <h4>Exercise 5: Quick Quiz – Test Your Knowledge!</h4>
                <p>Answer to review Unit 2.</p>
                <ol>
                    <li>What does “pazar” mean? <input id="quiz1" type="text" /></li>
                    <li>How do you say “I’m a teacher” in Standard Albanian? <input id="quiz2" type="text" /></li>
                    <li>What’s the Tosk phrase for “Bless you”? <input id="quiz3" type="text" /></li>
                </ol>
                <button onclick="checkQuizAnswers()">Check Answers</button>
                <p id="quiz-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>1. Market</li>
                        <li>2. Unë jam mësues</li>
                        <li>3. Rrofsh</li>
                    </ul>
                </div>
            </div>

            <!--Exercise 6: Translate Across Dialects-->
            <div class="exercise">
                <h4>Exercise 6: Translate Across Dialects</h4>
                <p>Translate into the specified dialect.</p>
                <ol>
                    <li>“What do you do?” (Standard Albanian)</li>
                    <li>“I’m good, man!” (Colloquial Albanian)</li>
                    <li>“Are you from the village?” (Gheg Albanian)</li>
                    <li>“Nice to see you!” (Tosk Albanian)</li>
                    <li>“Sure!” (Colloquial Albanian)</li>
                </ol>
                <p>Write your answers:</p>
                <div class="fill-in">
                    <input id="trans1" type="text" />
                    <input id="trans2" type="text" />
                    <input id="trans3" type="text" />
                    <input id="trans4" type="text" />
                    <input id="trans5" type="text" />
                </div>
                <button onclick="checkTransAnswers()">Check Answers</button>
                <p id="trans-feedback"></p>
                🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
                <div class="myText" style="display: none; margin-top: 10px;">
                    <ul>
                        <li>1. Çfarë bëni?</li>
                        <li>2. Jam mirë, mo!</li>
                        <li>3. N’katund je?</li>
                        <li>4. Mirë t’pash!</li>
                        <li>5. Ok, super!</li>
                    </ul>
                </div>
            </div>

            <div class="culture-tip">💡 Try “Bën ok, mo?” (Colloquial) then “Çka ban?” (Gheg) to feel each dialect’s vibe!</div>
        </section>
    </div>

    <div class="tab-content" id="reading">
    <section class="reading">
        <h3>📖 Reading Passages</h3>

        <!-- Passage 1: Standard Albanian -->
        <div class="passage standard">
            <h4>Passage 1: Një Takim në Zyrë (Standard Albanian)</h4>
            <div class="audio-container">
                
                    <iframe src="https://vocaroo.com/embed/11cM9PbH7i8n?autoplay=0" frameborder="0" allow="autoplay"></iframe><br />
            </div>
          
            <p>Një ditë me diell në Tiranë. Parku është shumë i bukur. Lulet janë të kuqe. Pemët janë të gjelbra dhe të larta. Fëmijët luajnë afër. Klodi vjen nga Durrësi. Ai takon Emën në park. Ema vjen nga Korça. Ata flasin bashkë. Klodi është student në universitet. Ema punon në një zyrë. Era është e lehtë dhe e freskët. Ata shijojnë ditën. Zogjtë këndojnë fort. Dielli shkëlqen ndritshëm në qiell. Ata qeshin gëzueshëm.</p>
            <h4>📝 Translation</h4>
            <p>A sunny day in Tirana. The park is very beautiful. The flowers are red. The trees are green and tall. Children play nearby. Klodi comes from Durrës. He meets Ema in the park. Ema comes from Korça. They talk together. Klodi is a university student. Ema works in an office. The breeze is light and fresh. They enjoy the day. The birds sing loudly. The sun shines brightly in the sky. They laugh joyfully.</p>
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
    <div class="glossary-entry">
        <div class="term">Një ditë me diell</div>
        <div class="translation">A sunny day</div>
        <div class="explanation">In Tirana, a sunny day invites locals to parks for socializing and enjoying Albania’s warm climate. <em>Grammar: "Një" is an indefinite article ("a"), and "me diell" is a prepositional phrase meaning "with sun."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Tiranë</div>
        <div class="translation">Tirana</div>
        <div class="explanation">Albania’s capital, known for its colorful buildings and lively parks like the Grand Park, where this story is set.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Parku</div>
        <div class="translation">The park</div>
        <div class="explanation">Likely refers to Tirana’s Grand Park, a popular spot for locals to relax, play, and meet friends. <em>Grammar: Definite form of "park" with the suffix "-u," used for masculine nouns in the nominative case.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Shumë i bukur</div>
        <div class="translation">Very beautiful</div>
        <div class="explanation">Used to describe the scenic beauty of Albanian parks, with their well-kept gardens and vibrant landscapes. <em>Grammar: "Shumë" is an adverb meaning "very," and "i bukur" is an adjective in the masculine definite form.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Lulet</div>
        <div class="translation">The flowers</div>
        <div class="explanation">Flowers are a common sight in Albanian parks, often planted to enhance the natural beauty of public spaces. <em>Grammar: Definite plural form of "lule" (flower), with "-t" indicating plural definite for feminine nouns.</em></div>
    </div>
  </div>     
<div>
  <span>↕️</span><button style="display: inline-block; padding: 5px 15px; width: 210px;" onclick="toggleText(this)">More glossary</button>

                <div class="myText" style="display: none; margin-top: 10px;">
              
    <div class="glossary-entry">
        <div class="term">Të kuqe</div>
        <div class="translation">Red</div>
        <div class="explanation">Red flowers, like roses, are popular in Albanian gardens and symbolize vibrancy in the story’s park setting. <em>Grammar: "Të kuqe" is the plural feminine form of the adjective "kuq" (red), agreeing with "lulet."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Pemët</div>
        <div class="translation">The trees</div>
        <div class="explanation">Trees in Tirana’s parks provide shade and greenery, creating a serene environment for visitors. <em>Grammar: Definite plural of "pemë" (tree), with "-t" for feminine nouns in the nominative case.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Të gjelbra</div>
        <div class="translation">Green</div>
        <div class="explanation">Green trees reflect Albania’s lush landscapes, especially in spring and summer when parks thrive. <em>Grammar: "Të gjelbra" is the plural feminine form of "i gjelbër" (green), matching "pemët."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Të larta</div>
        <div class="translation">Tall</div>
        <div class="explanation">Tall trees are a feature of Albanian parks, offering a sense of grandeur and natural shelter. <em>Grammar: "Të larta" is the plural feminine form of "i lartë" (tall), agreeing with "pemët."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Fëmijët</div>
        <div class="translation">The children</div>
        <div class="explanation">Children playing in parks are a common sight in Albania, reflecting the country’s family-oriented culture. <em>Grammar: Definite plural of "fëmijë" (child), with "-t" for masculine nouns.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Luajnë</div>
        <div class="translation">Play</div>
        <div class="explanation">Play is central to Albanian park life, where kids enjoy open spaces for games and activities. <em>Grammar: Third-person plural present tense of "luaj" (to play).</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Afër</div>
        <div class="translation">Nearby</div>
        <div class="explanation">Indicates the close-knit feel of Albanian parks, where people gather in shared spaces.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Vjen nga Durrësi</div>
        <div class="translation">Comes from Durrës</div>
        <div class="explanation">Durrës, a coastal city, is a short trip from Tirana, and its residents often visit the capital’s parks. <em>Grammar: "Vjen" is third-person singular of "vij" (to come), and "nga" is a preposition meaning "from."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Takon</div>
        <div class="translation">Meets</div>
        <div class="explanation">Meeting in parks is a social norm in Albania, where people connect in open, public spaces. <em>Grammar: Third-person singular present tense of "takoj" (to meet).</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Korça</div>
        <div class="translation">Korça</div>
        <div class="explanation">A cultural hub in southeast Albania, known for its artistic heritage, with residents like Ema traveling to Tirana.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Ata</div>
        <div class="translation">They</div>
        <div class="explanation">Refers to Klodi and Ema, highlighting the social interactions common in Albanian parks. <em>Grammar: Nominative plural pronoun for a mixed-gender group.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Flasin bashkë</div>
        <div class="translation">Talk together</div>
        <div class="explanation">Conversation is a key part of Albanian social life, often happening in relaxed settings like parks. <em>Grammar: "Flasin" is third-person plural of "flas" (to speak), and "bashkë" means "together."</em></div>
              </div>
<div class="glossary-entry">
        <div class="term">Student në universitet</div>
        <div class="translation">University student</div>
        <div class="explanation">Many young Albanians, like Klodi, study at universities in Tirana, a hub for higher education.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Punon në një zyrë</div>
        <div class="translation">Works in an office</div>
        <div class="explanation">Office work, as with Ema, is common in Tirana, a growing economic center in Albania. <em>Grammar: "Punon" is third-person singular of "punoj" (to work), and "në një zyrë" means "in an office."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Era</div>
        <div class="translation">The breeze</div>
        <div class="explanation">A light breeze is typical in Tirana’s parks, enhancing the pleasant atmosphere on sunny days. <em>Grammar: Definite form of "erë" (breeze), feminine noun with "-a" suffix.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">E lehtë</div>
        <div class="translation">Light</div>
        <div class="explanation">Describes the gentle breeze, a refreshing feature of Albanian spring and summer days. <em>Grammar: Feminine singular form of "i lehtë" (light), agreeing with "era."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">E freskët</div>
        <div class="translation">Fresh</div>
        <div class="explanation">Fresh breezes in Albanian parks make outdoor activities more enjoyable. <em>Grammar: Feminine singular form of "i freskët" (fresh), matching "era."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Shijojnë ditën</div>
        <div class="translation">Enjoy the day</div>
        <div class="explanation">Reflects the Albanian love for savoring good weather and social moments in parks. <em>Grammar: "Shijojnë" is third-person plural of "shijoj" (to enjoy), and "ditën" is the definite accusative of "ditë" (day).</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Zogjtë</div>
        <div class="translation">The birds</div>
        <div class="explanation">Birds in Albanian parks add to the lively atmosphere with their singing. <em>Grammar: Definite plural of "zog" (bird), with "-të" for masculine nouns.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Këndojnë fort</div>
        <div class="translation">Sing loudly</div>
        <div class="explanation">Loud birdsong is a cheerful sound in Albania’s green spaces, enhancing the park’s ambiance. <em>Grammar: "Këndojnë" is third-person plural of "këndoj" (to sing), and "fort" is an adverb meaning "loudly."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Dielli</div>
        <div class="translation">The sun</div>
        <div class="explanation">The sun in Albania’s clear skies brightens parks, making them ideal for gatherings. <em>Grammar: Definite form of "diell" (sun), masculine noun with "-i" suffix.</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Shkëlqen ndritshëm</div>
        <div class="translation">Shines brightly</div>
        <div class="explanation">Bright sunlight in Tirana’s parks creates a vibrant, welcoming environment. <em>Grammar: "Shkëlqen" is third-person singular of "shkëlqej" (to shine), and "ndritshëm" is an adverb meaning "brightly."</em></div>
    </div>
    <div class="glossary-entry">
        <div class="term">Qiell</div>
        <div class="translation">Sky</div>
        <div class="explanation">The clear Albanian sky on sunny days adds to the beauty of outdoor settings like parks.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Qeshin gëzueshëm</div>
        <div class="translation">Laugh happily</div>
        <div class="explanation">Joyful laughter reflects the warm, communal spirit of Albanian park gatherings. <em>Grammar: "Qeshin" is third-person plural of "qesh" (to laugh), and "gëzueshëm" is an adverb meaning "happily."</em></div>
    </div>
</div></div><br>
            <h4>🧩 Comprehension Questions</h4>
            <ul>
                <li>Ku takohen kolegët?</li>
                <li>Kush pyet i pari për emrin?</li>
                <li>Çfarë pune bën Ardian?</li>
                <li>Çfarë pune bën Mira?</li>
                <li>Si është Tirana jashtë?</li>
            </ul>
            🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
            <div class="myText" style="display: none; margin-top: 10px;">
                <ul>
                    <li>Në një zyrë në Tiranë.</li>
                    <li>Një grua (Mira).</li>
                    <li>Ardian është inxhinier.</li>
                    <li>Mira është menaxhere.</li>
                    <li>Tirana është plot zhurmë dhe jetë.</li>
                </ul>
            </div>
            
            <div class="culture-tip">💡 In Albania, people often start friendly conversations with strangers in parks or public places.</div>
        </div>

        <!-- Passage 2: Colloquial Albanian -->
        <div class="passage colloquial">
            <h4>Passage 2: Një Bisedë te Bar (Colloquial Albanian)</h4>
            
            <p>Është mbrëmje dhe jashtë është ngrohtë. Lagjja është plot me drita dhe njerëz që flasin. Në një bar të vogël, dy shokë takohen pas shumë kohësh. Në një bar në lagje, dy shokë takohen.</p>
            <p>“Hej, si quhesh, mo?” thotë nji djalë.</p>
            <p>“Unë jam Ben, ti?” përgjigjet tjetri.</p>
            <p>“Fisnik. Ça lloj pune bën?”</p>
            <p>“Punoj në bar, mo,” thotë Ben.</p>
            <p>“Ti?”</p>
            <p>“Mekanik,” thotë Fisnik. Ata qeshin dhe porosisin pije. Ben merr një birrë. Fisniku merr një raki. Të dy flasin dhe qeshin. Në bar është një atmosferë e ngrohtë. Muzika është e qetë, dhe ka drita të bukura.</p>
            <p>Jashtë, lagjja është plot me njerëz që flasin dhe ecin. Fëmijët luajnë me biçikleta, dhe disa njerëz janë ulur për të pirë kafe. Të gjithë janë të qetë, por natën është e gjallë.</p>
            <h4>📝 Translation</h4>
            <p>It’s evening, and it’s warm outside. The neighborhood is full of lights and people talking. In a small bar, two friends meet after a long time.</p>
            <p>In a bar in the neighborhood, two friends meet.</p>
            <p>“Hey, what’s your name, man?” says one guy.</p>
            <p>“I’m Ben, and you?” replies the other.</p>
            <p>“Fisnik. What kind of work do you do?”</p>
            <p>“I work in a bar, man,” says Ben.</p>
            <p>“You?”</p>
            <p>“I’m a mechanic,” says Fisnik.</p>
            <p>They laugh and order drinks.</p>
            <p>Ben gets a beer. Fisnik gets a rakia. They both talk and laugh.</p>
            <p>The bar has a warm atmosphere. The music is calm, and there are beautiful lights.</p>
            <p>Outside, the neighborhood is full of people talking and walking. Children play with bicycles, and some people are sitting down to drink coffee. Everyone is relaxed, but the night feels alive.</p>
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
                <div class="glossary-row">
                    <div class="word-pair">
                        <span class="glossary-term">Shokë</span>
                        <span>Friends</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pije</span>
                        <span>Drinks</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Drita</span>
                        <span>Lights</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Është</span>
                        <span>It is</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Mbrëmje</span>
                        <span>Evening</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Jashtë</span>
                        <span>Outside</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ngrohtë</span>
                        <span>Warm</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Lagjja</span>
                        <span>Neighborhood</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Plot</span>
                        <span>Full</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Me</span>
                        <span>With</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Njerëz</span>
                        <span>People</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Që</span>
                        <span>That</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Flasin</span>
                        <span>Talk</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Në</span>
                        <span>In</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Bar</span>
                        <span>Bar</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Të vogël</span>
                        <span>Small</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Dy</span>
                        <span>Two</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Takohen</span>
                        <span>Meet</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pas</span>
                        <span>After</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Shumë</span>
                        <span>A lot</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Kohësh</span>
                        <span>Time</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Hej</span>
                        <span>Hey</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Si</span>
                        <span>How</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Quhesh</span>
                        <span>Is your name</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Mo</span>
                        <span>Man (informal)</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Thotë</span>
                        <span>Says</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Nji</span>
                        <span>One (informal)</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Djalë</span>
                        <span>Guy</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Unë</span>
                        <span>I</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Jam</span>
                        <span>Am</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ti</span>
                        <span>You</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Përgjigjet</span>
                        <span>Replies</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Tjetri</span>
                        <span>The other</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Fisnik</span>
                        <span>A name</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ça</span>
                        <span>What (informal)</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Lloj</span>
                        <span>Kind</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pune</span>
                        <span>Work</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Bën</span>
                        <span>Do</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Punoj</span>
                        <span>I work</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Porosisin</span>
                        <span>Order</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Merr</span>
                        <span>Gets</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Birrë</span>
                        <span>Beer</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Raki</span>
                        <span>A traditional Albanian alcoholic drink</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Flasin</span>
                        <span>Talk</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Atmosferë</span>
                        <span>Atmosphere</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">E ngrohtë</span>
                        <span>Warm</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Muzika</span>
                        <span>Music</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Qetë</span>
                        <span>Calm</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ka</span>
                        <span>There is</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Bukura</span>
                        <span>Beautiful</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Fëmijët</span>
                        <span>Children</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Luajnë</span>
                        <span>Play</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Biçikleta</span>
                        <span>Bicycles</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Disa</span>
                        <span>Some</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Ulur</span>
                        <span>Sitting</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Për</span>
                        <span>To</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Pirarë</span>
                        <span>Drink</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Kafe</span>
                        <span>Coffee</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Të gjithë</span>
                        <span>Everyone</span>
                    </div>
                    <div class="word-pair">
                        <span class="glossary-term">Gjallë</span>
                        <span>Alive</span>
                    </div>
                </div>
            </div>
            <h4>🧩 Comprehension Questions</h4>
            <ul>
                <li>Ku takohen shokët?</li>
                <li>Kush pyet i pari për emrin?</li>
                <li>Çfarë pune bën Ben?</li>
                <li>Çfarë pune bën Fisnik?</li>
                <li>Si është lagjja jashtë?</li>
            </ul>
            🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
            <div class="myText" style="display: none; margin-top: 10px;">
                <ul>
                    <li>Në nje bar në lagje.</li>
                    <li>Nji djalë (Fisnik).</li>
                    <li>Ben punon n’bar.</li>
                    <li>Fisnik është mekanik.</li>
                    <li>Lagjja është plot drita dhe muhabet.</li>
                </ul>
            </div>
        </div>

        <!-- Passage 3: Gheg Albanian -->
        <div class="passage gheg">
            <h4>Passage 3: Nji Bisedë n’Pazar (Gheg)</h4>
            <div class="audio-container">
                <div style="text-align: center;">
                    <iframe allow="autoplay" frameborder="0" height="60" src="https://vocaroo.com/embed/1nWsa3wgVFWh?autoplay=0" width="50%"></iframe><br />
                </div>
            </div>
            <p>Në Pazarin e Shkodrës, plot njerëz po shesin e po blejnë. Pazari asht i mbushun me dyqane e njerëz që flasin bashkë. Disa po bisedojnë për punët e përditshme, tjerë po bajnë pazaret e ditës. Zhamia e zaneve, tingujt e lekëve dhe britmat e shitësve e mbushin ajrin. Ca njerëz ecin shpejt, ndërsa disa ndalen për me pi kafe. N’kët atmosferë t’ngrohtë, secili po kalon ditën e zakonshme. Fëmijët po lozin në qoshe, e disa t’rinj po flasin për futboll.</p>
            <h4>📝 Translation</h4>
            <p>In the Shkodra Market, many people are selling and buying. The market is full of shops and people talking to each other. Some are discussing daily matters, others are doing the day's shopping. The noise of voices, the sound of money, and the calls of vendors fill the air. Some people walk quickly, while others stop to drink coffee. In this warm atmosphere, everyone is going about their usual day. Children are playing in the corners, and some young people are talking about football.</p>
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
                <div class="glossary-entry">
                    <div class="term">Pazarin</div>
                    <div class="translation">The market</div>
                    <div class="explanation">Refers to a traditional open-air market or bazaar, a central place for trade and social interaction.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Shkodrës</div>
                    <div class="translation">Of Shkodra</div>
                    <div class="explanation">Refers to the city of Shkodra, a major cultural and historical city in northern Albania.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Po shesin</div>
                    <div class="translation">Are selling</div>
                    <div class="explanation">Verb "shes" (to sell) in present continuous tense, common in market contexts.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Po blejnë</div>
                    <div class="translation">Are buying</div>
                    <div class="explanation">Verb "blej" (to buy) in present continuous tense.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Asht</div>
                    <div class="translation">Is</div>
                    <div class="explanation">Gheg form of "është" (Standard Albanian for "is").</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Mbushun</div>
                    <div class="translation">Filled/Full</div>
                    <div class="explanation">Past participle of "mbush" (to fill), used to describe the crowded market.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Dyqane</div>
                    <div class="translation">Shops</div>
                    <div class="explanation">Refers to small stores or stalls in the market.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Po bisedojnë</div>
                    <div class="translation">Are talking/discussing</div>
                    <div class="explanation">From "bisedoj" (to converse), used for casual or serious conversations.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Punët e përditshme</div>
                    <div class="translation">Daily matters</div>
                    <div class="explanation">Refers to routine or everyday tasks and concerns.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Bajnë</div>
                    <div class="translation">Do/Make</div>
                    <div class="explanation">Gheg form of "bëjnë" (to do/make), used here for shopping.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Zhamia</div>
                    <div class="translation">The noise</div>
                    <div class="explanation">Gheg term for noise or clamor, often used for bustling environments.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Zaneve</div>
                    <div class="translation">Of voices</div>
                    <div class="explanation">Plural of "zan" (voice), referring to the collective sound of people talking.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Lekëve</div>
                    <div class="translation">Of money</div>
                    <div class="explanation">Refers to Albanian currency (lek), here implying the sound of coins or transactions.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Britmat</div>
                    <div class="translation">The shouts/calls</div>
                    <div class="explanation">From "britmë" (shout), used for vendors calling out to attract customers.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Shitësve</div>
                    <div class="translation">Of vendors</div>
                    <div class="explanation">Plural of "shitës" (vendor/seller), those selling goods in the market.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Ecin</div>
                    <div class="translation">Walk</div>
                    <div class="explanation">Verb "ec" (to walk), used for people moving through the market.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Ndalen</div>
                    <div class="translation">Stop</div>
                    <div class="explanation">Verb "ndal" (to stop), used for people pausing, e.g., for coffee.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Pi kafe</div>
                    <div class="translation">Drink coffee</div>
                    <div class="explanation">Common social activity in Albanian culture, often done in cafés or market settings.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Atmosferë t’ngrohtë</div>
                    <div class="translation">Warm atmosphere</div>
                    <div class="explanation">Describes a lively, welcoming environment.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Secili</div>
                    <div class="translation">Everyone/Each one</div>
                    <div class="explanation">Used to indicate all people in the market.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Lozin</div>
                    <div class="translation">Play</div>
                    <div class="explanation">Gheg form of "luajnë" (to play), used for children playing.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Qoshe</div>
                    <div class="translation">Corner</div>
                    <div class="explanation">Refers to small corners or areas in the market where children might gather.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">T’rinj</div>
                    <div class="translation">Young people</div>
                    <div class="explanation">Shortened form of "të rinj" (the young), referring to youths.</div>
                </div>
                <div class="glossary-entry">
                    <div class="term">Futboll</div>
                    <div class="translation">Football</div>
                    <div class="explanation">Refers to soccer, a popular topic of conversation.</div>
                </div>
            </div>
            <!-- CSS styles for the glossary -->
            <style>
                /* Styles for the main glossary container */
               
                /* Styles for each glossary entry */
                .glossary-entry {
                    padding: 15px 0;
                    position: relative;
                    transition: background-color 0.2s;
                }

                /* Pseudo-element for blue notebook-style lines, positioned lower */
                .glossary-entry::after {
                    content: '';
                    position: absolute;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    height: 2px;
                    background-color: #87CEEB; /* Light blue for notebook lines */
                }

                /* Ensure the term appears above the line */
                .term {
                    font-weight: bold;
                    color: #2c3e50;
                    font-size: 18px;
                    margin-bottom: 10px;
                    position: relative;
                    z-index: 1; /* Keeps term above the line */
                }

                /* Translation and explanation appear below the line */
                .translation {
                    color: #34495e;
                    font-style: italic;
                    margin-bottom: 5px;
                    padding-bottom: 5px; /* Space to align with line */
                }

                /* Explanation styling, readable and below the line */
                .explanation {
                    color: #555;
                    font-size: 14px;
                    line-height: 1.5;
                    padding-bottom: 10px; /* Extra space to align with line */
                }

                /* Hover effect for entries to enhance interactivity */
                .glossary-entry:hover {
                    background-color: #f5f5f5;
                }
            </style>
            <h4>🧩 Comprehension Questions</h4>
            <ul>
                <li>Ku takohen njerëzit?</li>
                <li>Kush pyet i pari për emrin?</li>
                <li>Çka ban Gjon?</li>
                <li>Çka ban Luan?</li>
                <li>Si është pazari?</li>
            </ul>
            🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
            <div class="myText" style="display: none; margin-top: 10px;">
                <ul>
                    <li>N’pazar t’Shkodrës.</li>
                    <li>Nji zotni (Luan).</li>
                    <li>Gjon është bujk.</li>
                    <li>Luan është shitës n’pazar.</li>
                    <li>Pazar është plot zhurmë dhe njerëz.</li>
                </ul>
            </div>
        </div>

        <!-- Passage 4: Tosk Albanian -->
        <div class="passage tosk">
            <h4>Passage 4: Një Takim në Plazh (Tosk)</h4>
            <div class="audio-container">
                <div style="text-align: center;">
                    <iframe allow="autoplay" frameborder="0" height="60" src="https://vocaroo.com/embed/1eNWLOfzJdxq?autoplay=0" width="50%"></iframe><br />
                </div>
            </div>
            <p>Në plazhin e Sarandës, dielli është i ngrohtë. Deti është i qetë dhe i bukur. Dy të rinj takohen në rërë. Një vajzë dhe një djalë flasin. Vajza është kuzhiniere. Ajo punon në një restorant. Djali punon në një hotel. Ata qeshin dhe shikojnë detin. Rreth tyre, fëmijët luajnë. Disa njerëz ecin pranë ujit. Ka shumë zhurmë të gëzueshme. Plazhi është plot me njerëz dhe ngjyra. Të gjithë janë të lumtur në këtë ditë të bukur.</p>
            <h4>📝 Translation</h4>
            <p>At the beach in Saranda, the sun is warm. The sea is calm and beautiful. Two young people meet on the sand. A girl and a boy talk. The girl is a cook. She works in a restaurant. The boy works in a hotel. They laugh and look at the sea. Around them, children play. Some people walk near the water. There is a lot of happy noise. The beach is full of people and colors. Everyone is happy on this beautiful day.</p>
            <h4>📘 Glossary</h4>
            <div class="glossary-container">
    <div class="glossary-entry">
        <div class="term">Plazhin</div>
        <div class="translation">The beach</div>
        <div class="explanation">A sandy or pebbly shore by the sea, often a place for relaxation and social activities.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Sarandës</div>
        <div class="translation">Of Saranda</div>
        <div class="explanation">Refers to Saranda, a coastal city in southern Albania known for its scenic beaches and lively atmosphere.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Dielli</div>
        <div class="translation">The sun</div>
        <div class="explanation">The star that provides warmth and light, often associated with pleasant, sunny weather.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Deti</div>
        <div class="translation">The sea</div>
        <div class="explanation">A large body of saltwater, a key feature of coastal areas like Saranda.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Rërë</div>
        <div class="translation">Sand</div>
        <div class="explanation">Granular material found on beaches, used for walking, sitting, or playing.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Kuzhiniere</div>
        <div class="translation">Cook/Chef</div>
        <div class="explanation">A person who prepares food professionally, typically in a restaurant.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Restorant</div>
        <div class="translation">Restaurant</div>
        <div class="explanation">An establishment where meals are prepared and served to customers.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Hotel</div>
        <div class="translation">Hotel</div>
        <div class="explanation">A place providing accommodation and services for travelers and tourists.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Fëmijët</div>
        <div class="translation">The children</div>
        <div class="explanation">Young people, often seen playing or engaging in activities in public spaces.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Zhurmë</div>
        <div class="translation">Noise</div>
        <div class="explanation">Lively or loud sounds that characterize a cheerful, bustling environment.</div>
    </div>
            <div class="glossary-container">
    <div class="glossary-entry">
        <div class="term">Qetë</div>
        <div class="translation">Calm</div>
        <div class="explanation">Describes a peaceful or tranquil state, often used for environments like the sea.</div>
    </div>
        <div class="term">Bukur</div>
        <div class="translation">Beautiful</div>
        <div class="explanation">Used to describe something aesthetically pleasing, such as scenery or people.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Njerëz</div>
        <div class="translation">People</div>
        <div class="explanation">Refers to a group of individuals, often in a social or public setting.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Ujit</div>
        <div class="translation">The water</div>
        <div class="explanation">Refers to a body of water, such as the sea or a lake, often near a beach.</div>
    </div>
    <div class="glossary-entry">
        <div class="term">Lumtur</div>
        <div class="translation">Happy</div>
        <div class="explanation">Describes a state of joy or contentment, often associated with positive experiences.</div>
    </div>
</div>  

            <h4>🧩 Comprehension Questions</h4>
            <ul>
                <li>Ku bisedojnë dy veta?</li>
                <li>Kush pyet i pari për emrin?</li>
                <li>Ç’bën Taulant për punë?</li>
                <li>Ç’bën Anila?</li>
                <li>Si është deti?</li>
            </ul>
            🔑 <button onclick="toggleText(this)">Answer key (Show/Hide)</button>
            <div class="myText" style="display: none; margin-top: 10px;">
                <ul>
                    <li>Në plazh në Sarandë.</li>
                    <li>Një çikë (Anila).</li>
                    <li>Taulant punon n’hotel.</li>
                    <li>Anila është kuzhiniere.</li>
                    <li>Deti është i qetë.</li>
                </ul>
            </div>
        </div>
    </section>
</div>

    <div class="tab-content" id="cultural">
        <section class="cultural-notes">
            <h3>🌍 Cultural Notes</h3>
            <div class="note">
                <h4>1. Introductions Reflect Albanian Respect</h4>
                <p>Albanians value respectful introductions. In formal settings, <b>Si quheni?</b> and <b>Kënaqësi</b> show politeness. In Gheg areas, <b>Zotni</b> or <b>Tungjatjeta</b> adds respect, especially in markets. Tosk’s <b>More</b> or <b>Rrofsh</b> brings warmth to casual chats. Asking about work or origin (<b>Çfarë bëni?</b>) builds trust across communities.</p>
            </div>
            <div class="note">
                <h4>2. Small Talk Strengthens Bonds</h4>
                <p>Small talk, or <b>muhabet</b>, is central to Albanian social life. Questions like <b>Çfarë pune bëni?</b> or <b>Nga jeni?</b> spark conversations in cafés or markets. In Colloquial settings, <b>Ça bën, mo?</b> keeps it relaxed. Gheg’s nasal <b>Çka ban?</b> and Tosk’s melodic <b>Ç’bën, more?</b> reflect regional pride while uniting people.</p>
            </div>
            <div class="note">
                <h4>3. Work and Community Pride</h4>
                <p>Albanians take pride in their work, from farmers (<b>bujk</b>) in Gheg villages to hotel staff in Tosk’s Saranda. Sharing your job, like <b>Punoj n’pazar</b> or <b>Jam kuzhiniere</b>, connects you to the community. Dialects add flavor—Gheg’s rugged <b>katund</b>, Tosk’s serene <b>fshat</b>, or Colloquial’s urban <b>lagje</b>.</p>
                <div class="did-you-know">
                    <h4>ℹ️Did You Know?</h4>
                    <p>In Gheg markets, saying <b>Çka ban?</b> with a nasal twang instantly makes you sound local!</p>
                </div>
            </div>
        </section>
    </div>

    <div class="tab-content" id="speaking2">
        <section class="bot-container2">
            <h2>🗣️ Albanian Speaking Practice Bot</h2>
            <div class="instructions2">
                <p>Click <b>Start</b> to hear a phrase.</p>
                <p>Press <b>Play Phrase</b> to listen again.</p>
                <p><b>Record</b> yourself by pressing the mic button.</p>
                <p><b>Play</b> the recording.</p>
                <p>Check the <b>translation</b> or move to the <b>Next Phrase</b>.</p>
                <p>Click <b>Stop</b> to reset the bot.</p>
            </div>
            <div class="prompt2" id="prompt2">Click "Start" to begin!</div>
            <div class="translation2 hidden2" id="translation2"></div>
            <div class="feedback2" id="feedback2"></div>
            <div class="mic-container2">
                <div class="audio-player2">
                    <div class="record-button-wrapper2">
                        <button aria-label="Record your voice" class="hidden2" data-state="stopped" id="play-speech2">
    <svg class="icon2 mic-icon2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.93V21h2v-3.07c3.39-.49 6-3.39 6-6.93h-2z"/>
    </svg>
    <svg class="icon2 record-circle2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10"/>
    </svg>
</button>
                    </div>
                    <div id="recording-feedback2"></div>
                    <div id="mic-status2"></div>
                </div>
            </div>
            <div class="button-group2">
                <button id="start-button2" onclick="togglePractice()">Start</button>
                <button disabled="" id="next-button2" onclick="nextPhrase()">Next Phrase</button>
                <button onclick="playPhrase()">Play Phrase</button>
                <button onclick="showTranslation()">Show Translation</button>
            </div>
        </section>
    

  
   <!--Preloaded audio elements-->
<audio id="audio-si-quheni2" preload="none" src="https://www.dropbox.com/scl/fi/9s25dh8hd9l0tar3d3xu4/Si-quheni.m4a?rlkey=7ebr52jteek21d239708wrz1m&st=h9fenqjk&dl=1"></audio>
<audio id="audio-kenaqesi2" preload="none" src="https://www.dropbox.com/scl/fi/pnvuqclyyqj4i9r8o5nk4/K-naq-si.m4a?rlkey=8yy0hujkzdvg35ki0dn5pis6d&amp;st=w7uh699h&amp;dl=1"></audio>
<audio id="audio-cfare-beni2" preload="none" src="https://www.dropbox.com/scl/fi/cc0u19vb0tm0m19sq36xn/cfare-beni.m4a?rlkey=gj8dftqba0yaovheil1i4yoc0&amp;st=bqu1dkzo&amp;dl=1"></audio>
<audio id="audio-shihemi2" preload="none" src="https://www.dropbox.com/scl/fi/74b18nlrtjse99imgh3a0/shihemi.m4a?rlkey=ygsqiuy9i4rlwsjjxupjndv8m&amp;st=5o8no2fk&amp;dl=1"></audio>
<audio id="audio-sigurisht2" preload="none" src="https://www.dropbox.com/scl/fi/yibiqr1n7gs71w9471o80/Sigurisht.m4a?rlkey=t6e4kbv7cq1sa6k0relmv9vxn&amp;st=u8znynwi&amp;dl=1"></audio>
<audio id="audio-une-jam2" preload="none" src="https://www.dropbox.com/scl/fi/590zz29gxujqi63trn2wh/une-jam.m4a?rlkey=wz0qp5etu4ovcr0zw6w2nn2ho&amp;st=sku7evlq&amp;dl=1"></audio>
<audio id="audio-më-pëlqen2" preload="none" src="https://www.dropbox.com/scl/fi/5j4fys1yu2p8q83s8ugsw/M-p-lqen.m4a?rlkey=33sba4vgsxvsgfmyo8z49uvci&amp;st=kdg86hka&amp;dl=1"></audio>
<audio id="audio-shihemi-nesër2" preload="none" src="https://www.dropbox.com/scl/fi/qlubdg7p0nodaqsfn9ygm/Shihemi-nes-r.m4a?rlkey=3mn98ywih1wsvaekj69hua9xq&amp;st=axmsdekn&amp;dl=1"></audio>
<audio id="audio-afër2" preload="none" src="https://www.dropbox.com/scl/fi/rhyvtld2rvjdlgy879ysq/af-r.m4a?rlkey=rj7wuggnm8doqorazsy2yerce&amp;st=gp6awzip&amp;dl=1"></audio>
<audio id="audio-çka-ban2" preload="none" src="https://www.dropbox.com/scl/fi/pxb8w11n122hi18wkrnyg/cka-ban.m4a?rlkey=vfai3fsb7npnagh7bx4zxgb40&amp;st=hh80hjsx&amp;dl=1"></audio>
<audio id="audio-m-fal2" preload="none" src="https://www.dropbox.com/scl/fi/f24nr0jia30m1lnlrpnk0/M-fal.m4a?rlkey=a6cbmsybad3igq5a4gs7ims5s&amp;st=zp79sige&amp;dl=1"></audio>
  <audio id="audio-zakonisht2" preload="none" src="https://www.dropbox.com/scl/fi/0yt9ey4k8yhma885x1f7s/zakonisht.m4a?rlkey=gdwfh6ree29s8to267s5x4b9z&amp;st=y7mdyfym&amp;dl=1"></audio>
       <audio id="audio-cfare" preload="none" src="https://www.dropbox.com/scl/fi/1yzipk2gv29lf71i9b0wu/cfare.m4a?rlkey=fe8zj56r3tdbuuwqfbsuewoii&st=j87eucus&dl=1"></audio>
       <audio id="audio-Mësues" preload="none" src="https://www.dropbox.com/scl/fi/30lt9dhgf7m70e8uw4a1t/M-sues.m4a?rlkey=xskn2h7p3lgyt9cqucqezavoq&st=ogjp0dr9&dl=1"></audio>
      <audio id="audio-K-naq-si" preload="none" src="https://www.dropbox.com/scl/fi/pnvuqclyyqj4i9r8o5nk4/K-naq-si.m4a?rlkey=8yy0hujkzdvg35ki0dn5pis6d&st=8er9u7b9&dl=0?rlkey=nxupluk6fkzdchhuh65rt3fud&st=cmexdr58&dl=1"></audio>
      <audio id="audio-punoni" preload="auto" src="https://www.dropbox.com/scl/fi/63nlpkchkg9xe985c4q72/punoni.m4a?rlkey=op8o2qnomyysdkjw1tdd2qnft&st=1szv73xj&dl=1"></audio>
      <audio id="audio-banke" preload="auto" src="https://www.dropbox.com/scl/fi/sol3lnj35ev70n2nj8zwl/banke.m4a?rlkey=c00i2tgpz8rt16hgggtbt37lr&st=e0thbta9&dl=1"></audio>
      
<!--Add more audio elements as needed for other key phrases--></div>

<!--Closing tab-content for speaking2-->

 <!--Closing container-->




   <style>
     
     

  /*==============================

  1. Global Styles & Container

==============================*/


.container {
  
  font-size: 19px;
    max-width: 1280px;

    margin: 20px auto;

    padding: 20px;

    background: url('albania-map-bg.png') center/cover no-repeat, #fff;
border-radius: 8px;

}
     
     
     
/* GENERAL STYLES ON MOBILE*/
  
 @media (max-width: 768px) {

  /* Keep .container constrained but less padded */

  .container {

    max-width: 100%;

    margin: 0;

    padding: 10px;

    border-radius: 0;

    background-size: cover;

    background-position: center;

  }

  /* Expand only content elements (not tabs!) */

  .tab-content,

  .dialogue,

  .basic-phrases,

  .translation,

  .glossary-container,

  .exercise,

  .reading,

  .vocab-list,

  .grammar-card,

  .grammar-container {

    width: 100%;

    max-width: 100%;

    margin: 0;

    padding: 10px 8px;

    box-sizing: border-box;

  }

  /* Let glossary items stack nicely */

  .word-pair {

    flex: 1 1 100%;

  }

}

  
    .bigcard {

  background: white;

  padding: 1rem;

  margin-bottom: 1.5rem;

  border-radius: 16px;

  box-shadow: 0 2px 6px rgba(0,0,0,0.05);

} 
/*==============================

  2. Headings & Typography

==============================*/

body {
  font-family: 'Roboto', sans-serif;
  font-size: 16px;
  line-height: 1.6;
  color: #222;
  background-color: #fff;
  margin: 0 3px;
  padding: 0;
}

h1 {
  font-family: 'Playfair Display', serif;
  font-size: 48px;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0.5em;
  color: #111;
}

h2, h3, h4 {
  font-family: 'Roboto', sans-serif;
  font-weight: 500;
  color: #333;
}
     
.dialogue-title {

  line-height: 1.6;

  margin-top: 1.5em;

  margin-bottom: 1em;

}

p {
  margin-bottom: 1em;
}
     
h3 {
  background-color:#e0f2ff;margin-bottom:0;
  
  }

/*==============================

  3. Tabs Navigation

==============================*/

#progress {

    text-align: center;

    font-size: 16px;

    color: #555;

    font-weight: bold;

    margin-bottom: 20px;

    border-radius: 5px 5px 0 0;}
    
     
     
     
     
        .tip {
            background-color: #fff8d6;
            border-left: 4px solid #f1c40f;
            padding: 0.75rem;
            margin-top: 1rem;
            border-radius: 8px;
        
        }
        
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .tab-link.active {
            background-color: #007acc;
            color: white;
        }
        .glossary-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .word-pair {
            flex: 1;
            min-width: 150px;
            padding: 0.5rem;
            background-color: #f9f9f9;
            border-radius: 8px;
            cursor: pointer;
        }
        .glossary-term {
            font-weight: bold;
        }
        .culture-tip {
            background-color: #e6f3ff;
            padding: 0.75rem;
            margin-top: 1rem;
            border-radius: 8px;
        }
    
 /*============================
     4. DIALOGUES TAB
==============================*/
  
.basic-phrases {
  background: white;
  border-radius: 10px;
  border: 2px solid #D3D3D3;
  padding: 25px 20px; /* Increased padding for space around text */
  margin: 20px 3px;
  box-sizing: border-box;
  width: 100%;
}
     
    /*@media (max-width: 600px) {

  .basic-phrases {

    background: white;

    border-radius: 10px;

    border: 2px solid #D3D3D3;

    padding: 15px;

    margin: 10px 3px;

    box-sizing: border-box;

    width: 100%;

  }*/


     
     
     
.dialogue { 
    margin: 20px 0px;

    padding: 10px;

     

/* Or try 0 if you want no space */
}
     
    

.dialogue-text {
background: white;

  border-radius: 10px;

  border: 2px solid #D3D3D3;

  padding: 25px 20px; /* Increased padding for space around text */

  margin: 20px 3px;

  box-sizing: border-box;

  width: 100%;

}
     
.dialogue:hover {

    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

}

.dialogue.standard {
border-left: 5px solid #3AB7D4;

    
  border-radius:10px;


background-color:#FFF9E6;
}

.dialogue.colloquial {

    border-left: 5px solid #2ecc71;

    background-color:#F5F5F5;
  border-radius:10px;


}

.dialogue.gheg {
  
  border-radius:10px;
border-left: 5px solid teal;
  background-color:#FF7F50;

}

.dialogue.tosk {

    border-left: 5px solid #8B5E3C;
  border-radius:10px;
background-color:#A8B5A2;

}

.dialogue h3 {

    font-size: 24px;

}

.translation {background:white;
  border-radius:10px;
  border:2px solid #D3D3D3;
  padding: 15px;
  margin: 10px 0px;
  
  
}

     

/*==============================

  4.1 Translation Styles

==============================*/


     
.glossary {background:white;

  border-radius:10px;

  border:2px solid #D3D3D3;

  padding:5px 10px 5px 10px; 

  margin: 20px 0px;

  padding: 15px;

}  
     
  
/* Passage Section */
.passage {
    margin: 20px 0 ;
    padding: 15px ;
    border-radius: 5px;
}

.passage:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) ;
}

.passage.standard {
    border-left: 5px solid #3498db;
}

.passage.colloquial {
    border-left: 5px solid #2ecc71;
}

.passage.gheg {
    border-left: 5px solid #e74c3c;
}

.passage.tosk {
    border-left: 5px solid #f1c40f;
}


.scene-note {

    font-style: italic;

    color: #666;

    font-size: 16px;

    margin-bottom: 10px;

}

/*==============================

  5. Vocabulary & Glossary

==============================*/

.vocab-list {

    display: grid;

    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

    gap: 10px;
  
}

.vocab-item {

    background: #f9f9f9;

    padding: 10px;

    border: 1px solid #ddd;

    cursor: pointer;

    border-radius: 5px;

    box-shadow: 0 1px 3px rgba(0,0,0,0.05);

}

.vocab-item:hover {

    background: #f0f0f0;

}

.vocab-field {

    margin-bottom: 5px;
  
  

}

.vocab-translation {

    background: #e0e0e0;

    padding: 5px;

    margin-top: 5px;

}
  


/* ========GRAMMAR TAB CSS========*/
     

#grammar {
  padding: 30px;
  background: #f6f8fb;
  
}

.grammar {
  max-width: 960px;
  margin: auto;
}

.grammar h3 {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 1.5rem;
  color: #333;
}

.grammar-card {
  background: white;
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 25px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}

.grammar-card h4 {
  font-size: 1.4rem;
  color: #22577A;
  margin-bottom: 10px;
}

.grammar-card ul {
  line-height: 1.7;
}

.ipa {
  color: #555;
}

.grammar-tip {
  background: #fff7cc;
  border-left: 6px solid #227C9D;
  padding: 20px 25px;
  border-radius: 12px;
  margin-bottom: 25px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.grammar-tip h4 {
  font-size: 1.3rem;
  color: #aa7700;
  margin-bottom: 10px;
}

.grammar-tip ul {
  line-height: 1.7;
}

.grammar-tip p {
  margin-top: 10px;
}

/*==============================

  6. Highlight Classes

==============================*/

.highlight-gheg {

    color: #d32f2f;

}

.highlight-colloquial {

    color: #388e3c;

}

.highlight-tosk {

    color: #f57c00;

}

/*==============================

  7. audio player SPEAKING TAB

==============================*/

    .audio-player {
    background-color: #000; /* Black background */
    padding: 4px; /* Minimal padding for small container */
    border-radius: 4px;
    display: inline-block;
    text-align: center;
    line-height: 0; /* Remove extra spacing */
   }
   

.audio-player iframe {
  width: 300px;
  height: 60px;
  border: none;
}


.audio-player audio {
    display: none; /* Hide audio element */
}

.audio-player button#play-pause {
    background-color: #fff; /* White button */
    border: none;
    width: 20px; /* Button size */
    height: 20px;
    border-radius: 50%; /* Circular */
    cursor: pointer;
    position: relative;
    outline: none;
}

/* Play icon (triangle) */
.audio-player button#play-pause::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-40%, -50%); /* Adjust for triangle */
    width: 0;
    height: 0;
    border-left: 10px solid #000; /* Bigger triangle */
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
}

/* Pause icon (two bars) */
.audio-player button#play-pause.playing::before {
    content: '';
    border: none;
    width: 5px; /* Bar width */
    height: 8px;
    background: #000; /* Black bar */
    box-shadow: 2px 0 0 #000; /* Second bar */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-55%, -50%); /* Slightly left */
}

.audio-player button#play-pause:hover {
    background-color: #ccc; /* Light grey on hover */
}
  


/*===============================
  Audio player dialogues passages
 ================================ */
  
   .audio-section {
            display: flex;
            background-color: #e0f2ff;
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            width: 100%;
            margin: 1.5rem 3px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .audio-section p {
            width: 100%;
            max-width: 200px;
            font-weight: bold;
            font-size: 18px;
            margin: auto 5px;
        }
        .audio-caption {
            font-weight: bold;
            color: #007acc;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .audio {
            width: 100%;
            margin-bottom: 0.5rem;}
  

/*==============================

  8. Cultural Notes / Tips

==============================*/

.culture-tip, .did-you-know {

    background: #ffe680;

    padding: 10px;

    border-radius: 5px;

    margin-top: 10px;

    border-left: 5px solid #f1c40f;

    font-weight: 500;

    color: #333;
  width:100%;height:100%;
  }
  /* On screens smaller than 768px (typical mobile) */

@media (max-width: 768px) {

  .culture-tip,

  .did-you-know {

    width: 100%;

  }

}


.note {

    font-style: italic;

    color: #555;

}

/*==============================

  9. Exercises & Interactions

==============================*/

.exercise {

    margin: 20px 0;

}

.mc-options {

    margin: 10px 0;

}

.fill-in input {

    margin: 5px;

    padding: 5px;

    width: 150px;

}

.matching {

    display: flex;

    justify-content: space-between;

    flex-wrap: wrap;

}

.match-column ul {

    list-style: none;

    padding: 0;

}

.match-column li {

    padding: 5px;

    margin: 5px 0;

    background: #f0f0f0;

    cursor: pointer;

    border-radius: 4px;

}

.match-column li.selected {

    background: #bbdefb;

}

.match-column li.correct {

    background: #c8e6c9;

}

.match-column li.incorrect {

    background: #ffcdd2;

}

/*==============================

  10. Buttons & Toggles

==============================*/

button {

    padding: 15px 15px;

    background: teal;

    color: #fff;

    border: none;

    border-radius: 6px;

    cursor: poin
ter;

    font-size: 16px;

    font-weight: 600;

    margin: 5px;
  padding:5px;

    transition: background 0.2s;

}

button:hover {

    background: #0056b3;

}

button:active {

    transform: scale(0.98);

}

.answer-key-toggle {

    cursor: pointer;

    color: #007bff;

}

.answer-key {

    background: #f0f0f0;

    padding: 10px;

    margin: 10px 0;

}

/*==============================

  11. Audio

==============================*/



/*==============================

  12. Utilities

==============================*/

.hidden {

    display: none;

}

/*==============================

  13. Responsive Design

==============================*/

@media (max-width: 800px) {
  
 

    .tabs {

        flex-direction: column;

    }
  
.button { margin:10px 100px;  }
    .tab-link {

        width: 95%;

        margin: 5px;

        border-radius: 5px;

    }

    .vocab-list, .grammar-examples .examples, .glossary-container {

        grid-template-columns: 1fr;

    }

    .matching {

        flex-direction: column;

    }

}

/* Glossary Grid Layout: 3 columns */
  
     .glossary button {
            background-color: #e3eaf7;
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            font-weight: 600;
            cursor: pointer;
        }   
     
.glossary-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin: 20px 0;
}

.word-pair {
    padding: 12px 16px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: #f9f9f9;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

.word-pair:hover {
    background-color: #e8f4ff;
    transform: scale(1.04);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.glossary-term {
    font-weight: bold;
    color: #0056b3;
    display: block;
    margin-bottom: 4px;
}

.word-pair span:not(.glossary-term) {
    color: #555;
    font-size: 0.95em;
}

/* Responsive layout: 2x2 for tablets, 1x1 for phones */
@media (max-width: 768px) {
    .glossary-container {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 480px) {
    .glossary-container {
        grid-template-columns: 1fr;
    }
}

</style>

<style>
  
/*============
  Bot Container
==============*/
      
      
      
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      
    }

    .bot-container2 {
      max-width: 700px;
      margin: 30px auto;
      text-align: center;
      padding: 0 15px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .bot-container2 h2 {
      font-size: 28px;
      color: #333;
      margin-bottom: 10px;
    }

    .instructions2 {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin-bottom: 10px;
    }

    .instructions2 p {
      font-size: 16px;
      color: #555;
      line-height: 1.5;
    }

    .prompt2, .translation2, .feedback2 {
      font-size: 18px;
      color: #333;
    }

    .translation2.hidden2 {
      display: none;
    }

    .mic-container2 {
      background-color: #e6f3fa;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin: 10px 0;
    }

    .audio-player2 {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .record-button-wrapper2 {
      display: inline-block;
      line-height: 0;
    }

    #play-speech2 {
      background-color: #007bff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s, transform 0.2s;
    }

    #play-speech2 .icon2 {
      width: 24px;
      height: 24px;
      fill: #fff;
    }

    #play-speech2 .mic-icon2 {
      display: block;
    }

    #play-speech2 .record-circle2 {
      display: none;
      width: 24px;
      height: 24px;
      fill: #ff0000;
    }

    #play-speech2.recording2 .mic-icon2 {
      display: none;
    }

    #play-speech2.recording2 .record-circle2 {
      display: block;
    }

    #play-speech2:hover {
      background-color: #0056b3;
      transform: scale(1.05);
    }

    #play-speech2:disabled {
      background-color: #d3d3d3;
      cursor: not-allowed;
      transform: none;
    }

    .hidden2 {
      display: none !important;
    }

    #recording-feedback2 {
      margin-top: 15px;
      font-size: 15px;
      color: #555;
      min-height: 20px;
    }

    #mic-status2 {
      font-size: 14px;
      color: #d00;
      margin-top: 10px;
    }

  

    #recording-feedback2 button {
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 8px;
      background-color: #28a745;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s, box-shadow 0.2s;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #recording-feedback2 button:hover {
      background-color: #218838;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
        </style>

<script>

// Helper Function to Normalize Text
function normalizeText(text) {
    if (!text) return "";
    return text
        .toLowerCase()
        .trim()
        .replace(/['’]/g, "") // Remove apostrophes
        .replace(/[,\s]+/g, "") // Remove commas and spaces
        .normalize("NFD") // Decompose diacritics
        .replace(/[\u0300-\u036f]/g, "") // Remove diacritic marks
        .replace(/[ç]/g, "c") // Map ç to c
        .replace(/[ë]/g, "e"); // Map ë to e
}

// Safe check for preventDefault
function openTab(event, tabName, section) {
    event.preventDefault?.(); 

    // Remove "active" from all tab contents
    const tabContents = document.querySelectorAll(".tab-content");
    tabContents.forEach(content => content.classList.remove("active"));

    // Remove "active" from all tab buttons
    const tabLinks = document.querySelectorAll(".tab-link");
    tabLinks.forEach(link => link.classList.remove("active"));

    // Add "active" to selected content and button
    const selectedContent = document.getElementById(tabName);
    if (selectedContent) {
        selectedContent.classList.add("active");
    }

    event.currentTarget.classList.add("active");

    // Call updateProgress if needed
    if (typeof updateProgress === "function") {
        updateProgress(section);
    }
}

  
  // glossary audio

// Vocabulary Quiz
let currentQuestion = null;

const vocab = [
    { word: "Si quhesh", meaning: "What’s your name?", dialect: "Standard", audioId: "audio-si-quheni" },
    { word: "Kënaqësi", meaning: "Pleasure / Nice to meet", dialect: "Standard", audioId: "audio-kenaqesi2" },
    { word: "Çfarë", meaning: "What", dialect: "Standard", audioId: "audio-cfare" },
    { word: "Sigurisht", meaning: "Sure / Okay", dialect: "Standard", audioId: "audio-sigurisht2" },
    { word: "Shihemi", meaning: "See you", dialect: "Standard", audioId: "audio-shihemi2" },
    { word: "Mësues", meaning: "Teacher", dialect: "Standard", audioId: "audio-Mësues" },
    { word: "Inxhinier", meaning: "Engineer", dialect: "Standard", audioId: null },
    { word: "Infermiere", meaning: "Nurse", dialect: "Standard", audioId: null },
    { word: "Pazar", meaning: "Market", dialect: "Standard", audioId: null },
    { word: "Hotel", meaning: "Hotel", dialect: "Standard", audioId: null }
];

function quizMe() {
    currentQuestion = vocab[Math.floor(Math.random() * vocab.length)];
    const quizWordElement = document.getElementById("quiz-word");
    const quizAnswerElement = document.getElementById("quiz-answer");

    if (quizWordElement && quizAnswerElement) {
        quizWordElement.innerText = `What does "${currentQuestion.word}" mean in ${currentQuestion.dialect}?`;
        quizAnswerElement.innerText = "";
        quizAnswerElement.classList.add("hidden");

        if (currentQuestion.audioId) {
            const audio = document.getElementById(currentQuestion.audioId);
            if (audio) {
                audio.play().catch(e => console.error(`Error playing audio ${currentQuestion.audioId}:`, e));
            }
        }
    } else {
        console.warn("Quiz elements not found");
    }
}

function showAnswer() {
    const quizAnswerElement = document.getElementById("quiz-answer");
    if (quizAnswerElement && currentQuestion) {
        quizAnswerElement.innerText = `Answer: ${currentQuestion.meaning}`;
        quizAnswerElement.classList.remove("hidden");
    } else {
        console.warn("Answer element or current question missing");
    }
}

// Toggle Answer Key Visibility
function toggleText(button) {
    const textDiv = button.nextElementSibling;
    if (textDiv) {
        textDiv.style.display = textDiv.style.display === "none" ? "block" : "none";
    } else {
        console.warn("Answer toggle failed: no next sibling found");
    }
}

// Exercise 1: Multiple Choice
function checkMCAnswers() {
    const correct = ["b", "b", "a"];
    let score = 0;
    for (let i = 1; i <= 3; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (selected && selected.value === correct[i - 1]) {
            score++;
        }
    }
    const feedbackElement = document.getElementById("mc-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You got ${score}/3 correct! ${score === 3 ? "Great job! 🎉" : "Review the key."}`;
    } else {
        console.warn("Feedback element not found: mc-feedback");
    }
}

// Exercise 2: Fill-in-the-Blank
function checkFillAnswers() {
    const correct = ["bëj", "bën", "bëjmë", "bëjnë", "bën"];
    let score = 0;
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`fill${i}`);
        if (input) {
            const answer = normalizeText(input.value);
            const expected = normalizeText(correct[i - 1]);
            if (answer === expected) {
                score++;
            }
        } else {
            console.warn(`Input element not found: fill${i}`);
        }
    }
    const feedbackElement = document.getElementById("fill-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You got ${score}/5 correct! ${score === 5 ? "Perfect! 🎉" : "Check the answer key to review."}`;
    } else {
        console.warn("Feedback element not found: fill-feedback");
    }
}

// Exercise 3: Matching
let matches = {};
let currentWord = null;
let currentMeaning = null;

function selectWord(wordId) {
    if (matches[wordId]) return;
    const wordElement = document.getElementById(wordId);
    if (!wordElement) {
        console.warn(`Word element not found: ${wordId}`);
        return;
    }
    if (currentWord && currentWord !== wordId) {
        const prevWordElement = document.getElementById(currentWord);
        if (prevWordElement) {
            prevWordElement.classList.remove("selected");
        }
    }
    wordElement.classList.add("selected");
    currentWord = wordId;
    if (currentMeaning) {
        pairItems(wordId, currentMeaning);
    }
}

function selectMeaning(meaningId) {
    if (Object.values(matches).includes(meaningId)) return;
    const meaningElement = document.getElementById(meaningId);
    if (!meaningElement) {
        console.warn(`Meaning element not found: ${meaningId}`);
        return;
    }
    if (currentMeaning && currentMeaning !== meaningId) {
        const prevMeaningElement = document.getElementById(currentMeaning);
        if (prevMeaningElement) {
            prevMeaningElement.classList.remove("selected");
        }
    }
    meaningElement.classList.add("selected");
    currentMeaning = meaningId;
    if (currentWord) {
        pairItems(currentWord, meaningId);
    }
}

function pairItems(wordId, meaningId) {
    matches[wordId] = meaningId;
    const wordElement = document.getElementById(wordId);
    const meaningElement = document.getElementById(meaningId);
    if (wordElement && meaningElement) {
        wordElement.classList.add("paired");
        meaningElement.classList.add("paired");
        wordElement.classList.remove("selected");
        meaningElement.classList.remove("selected");
        currentWord = null;
        currentMeaning = null;
    }
}

function checkMatches() {
    const correct = {
        "word1": "meaning1", // Çka - What (Gheg)
        "word2": "meaning2", // More - Dear (Tosk)
        "word3": "meaning3", // Sigurisht - Sure (Standard)
        "word4": "meaning4"  // Pazar - Market (All)
    };
    let score = 0;
    for (let word in correct) {
        const wordElement = document.getElementById(word);
        const meaningElement = matches[word] ? document.getElementById(matches[word]) : null;
        if (wordElement && meaningElement) {
            if (matches[word] === correct[word]) {
                wordElement.classList.add("correct");
                wordElement.classList.remove("incorrect");
                meaningElement.classList.add("correct");
                meaningElement.classList.remove("incorrect");
                score++;
            } else {
                wordElement.classList.add("incorrect");
                wordElement.classList.remove("correct");
                meaningElement.classList.add("incorrect");
                meaningElement.classList.remove("correct");
            }
        }
    }
    const feedbackElement = document.getElementById("match-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You matched ${score}/4 correctly! ${score === 4 ? "Awesome! 🎉" : "Try again or check the key."}`;
    } else {
        console.warn("Feedback element not found: match-feedback");
    }
}

function resetMatches() {
    matches = {};
    currentWord = null;
    currentMeaning = null;
    const items = document.querySelectorAll("#words li, #meanings li");
    items.forEach(item => {
        item.classList.remove("selected", "correct", "incorrect", "paired");
        item.onclick = item.id.startsWith("word") ? () => selectWord(item.id) : () => selectMeaning(item.id);
    });
    const feedbackElement = document.getElementById("match-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = "";
    }
}

// Exercise 4: Dialogue Completion
function checkDialogueAnswers() {
    const correct = ["quhesh", "rrofsh", "bën", "Ti", "Ku"];
    let score = 0;
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`dialogue${i}`);
        if (input) {
            const answer = normalizeText(input.value);
            const expected = normalizeText(correct[i - 1]);
            if (answer === expected) {
                score++;
            }
        } else {
            console.warn(`Input element not found: dialogue${i}`);
        }
    }
    const feedbackElement = document.getElementById("dialogue-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You got ${score}/5 correct! ${score === 5 ? "Nailed it! 🎉" : "Review the dialogue key."}`;
    } else {
        console.warn("Feedback element not found: dialogue-feedback");
    }
}

// Exercise 5: Quick Quiz
function checkQuizAnswers() {
    const correct = ["market", "unë jam mësues", "rrofsh"];
    let score = 0;
    for (let i = 1; i <= 3; i++) {
        const input = document.getElementById(`quiz${i}`);
        if (input) {
            const answer = normalizeText(input.value);
            const expected = normalizeText(correct[i - 1]);
            if (answer === expected) {
                score++;
            }
        } else {
            console.warn(`Input element not found: quiz${i}`);
        }
    }
    const feedbackElement = document.getElementById("quiz-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You got ${score}/3 correct! ${score === 3 ? "Great job! 🎉" : "Check the answers."}`;
    } else {
        console.warn("Feedback element not found: quiz-feedback");
    }
}

// Exercise 6: Translate Across Dialects
function checkTransAnswers() {
    const correct = [
        "çfarë bëni?",
        "jam mirë, mo!",
        "n’katund je?",
        "mirë t’pash!",
        "ok, super!"
    ];
    let score = 0;
    for (let i = 1; i <= 5; i++) {
        const input = document.getElementById(`trans${i}`);
        if (input) {
            const answer = normalizeText(input.value);
            const expected = normalizeText(correct[i - 1]);
            if (answer === expected) {
                score++;
            }
        } else {
            console.warn(`Input element not found: trans${i}`);
        }
    }
    const feedbackElement = document.getElementById("trans-feedback");
    if (feedbackElement) {
        feedbackElement.innerText = `You got ${score}/5 correct! ${score === 5 ? "Perfect translations! 🎉" : "See the key for help."}`;
    } else {
        console.warn("Feedback element not found: trans-feedback");
    }
}

// Initialize Progress
window.onload = function() {
    try {
        updateProgress();
        const firstTab = document.querySelector(".tab-link");
        if (firstTab) firstTab.click();
        quizMe();
    } catch (e) {
        console.error("Initialization error:", e);
    }
};

// Vocabulary Audio Playback
document.addEventListener('DOMContentLoaded', () => {
    const audioElements = [
        { id: "audio-si-quheni", buttonId: "play-pause-si-quheni" }
        // Add more vocabulary audio elements if additional <audio> tags are added
    ];

    audioElements.forEach(({ id, buttonId }) => {
        const audio = document.getElementById(id);
        const playPauseBtn = document.getElementById(buttonId);

        if (audio && playPauseBtn) {
            playPauseBtn.addEventListener('click', () => {
                if (audio.paused) {
                    audio.play();
                    playPauseBtn.classList.add('playing');
                } else {
                    audio.pause();
                    playPauseBtn.classList.remove('playing');
                }
            });

            audio.addEventListener('ended', () => {
                playPauseBtn.classList.remove('playing');
                audio.currentTime = 0;
            });
        } else {
            console.warn(`Audio or button not found: ${id}, ${buttonId}`);
        }
    });
});
</script>

<script>
//=================SPEAKING BOT==================================
document.addEventListener('DOMContentLoaded', () => {
   const phrases = [
        {
            phrase: "Si quhesh?",
            meaning: "What’s your name?",
            dialect: "Standard",
            audioId: "audio-si-quheni2"
        },
        {
            phrase: "Kënaqësi",
            meaning: "Pleasure / Nice to meet",
            dialect: "Standard",
            audioId: "audio-kenaqesi2"
        },
        {
            phrase: "Çfarë bëni?",
            meaning: "What activity do you do?",
            dialect: "Standard",
            audioId: "audio-cfare-beni2"
        },
        {
            phrase: "Shihemi",
            meaning: "See you",
            dialect: "Standard",
            audioId: "audio-shihemi2"
        },
        {
            phrase: "Sigurisht",
            meaning: "Sure",
            dialect: "Standard",
            audioId: "audio-sigurisht2"
        },
        {
            phrase: "Unë jam",
            meaning: "I am",
            dialect: "Standard",
            audioId: "audio-une-jam2"
        },
        {
            phrase: "Më pëlqen",
            meaning: "I like",
            dialect: "Standard",
            audioId: "audio-më-pëlqen2"
        },
        {
            phrase: "Shihemi nesër",
            meaning: "See you tomorrow",
            dialect: "Standard",
            audioId: "audio-shihemi-nesër2"
        },
        {
            phrase: "zakonisht",
            meaning: "Usually",
            dialect: "Standard",
            audioId: "audio-zakonisht2"
        },
        {
            phrase: "afër",
            meaning: "Close",
            dialect: "Standard",
            audioId: "audio-afër2"
        },
        {
            phrase: "Çka ban?",
            meaning: "What do you do for a living?",
            dialect: "Gheg",
            audioId: "audio-çka-ban2"
        },
        
        {
            phrase: "Më fal",
            meaning: "Sorry / Excuse me",
            dialect: "Standard",
            audioId: "audio-m-fal2"
        }
    ];
  
    let currentPhrase = null;
    let mediaRecorder = null;
    let recordedChunks = [];
    let isRecording = false;
    let mediaStream = null;
    let isPracticeStarted = false;
    let recordingTimeout = null;
    let isAudioPlaying = false;
    let phraseQueue = [];
    let recognition = null;

    // DOM elements
    const recordButton = document.getElementById("play-speech2");
    const promptElement = document.getElementById("prompt2");
    const translationElement = document.getElementById("translation2");
    const feedbackElement = document.getElementById("feedback2");
    const recordingFeedbackElement = document.getElementById("recording-feedback2");
    const micStatusElement = document.getElementById("mic-status2");
    const startButton = document.getElementById("start-button2");
    const nextButton = document.getElementById("next-button2");

    // Audio elements for phrases
   const audioElements = [
        { name: 'Si-quhesh.mp3', id: 'audio-si-quheni2' },
        { name: 'Kënaqësi.m4a', id: 'audio-kenaqesi2' },
        { name: 'cfare-beni.m4a', id: 'audio-cfare-beni2' },
        { name: 'shihemi.m4a', id: 'audio-shihemi2' },
        { name: 'Sigurisht.m4a', id: 'audio-sigurisht2' },
        { name: 'une-jam.m4a', id: 'audio-une-jam2' },
        { name: 'Më pëlqen.m4a', id: 'audio-më-pëlqen2' },
        { name: 'Shihemi nesër.m4a', id: 'audio-shihemi-nesër2' },
        { name: 'zakonisht.m4a', id: 'audio-zakonisht2' },
        { name: 'afër.m4a', id: 'audio-afër2' },
        { name: 'Çka ban.m4a', id: 'audio-çka-ban2' },
        { name: 'M fal.m4a', id: 'audio-m-fal2' },
        { name: 'zakonisht.m4a', id: 'audio-zakonisht2' }
    ];

    // Track audio playback state
    audioElements.forEach(audio => {
        const element = document.getElementById(audio.id);
        if (element) {
            element.addEventListener('play', () => {
                isAudioPlaying = true;
                recordButton.disabled = true;
                console.log(`${audio.name} is playing`);
            });
            element.addEventListener('ended', () => {
                isAudioPlaying = false;
                recordButton.disabled = false;
                console.log(`${audio.name} playback ended`);
            });
            element.addEventListener('pause', () => {
                isAudioPlaying = false;
                recordButton.disabled = false;
                console.log(`${audio.name} playback paused`);
            });
            element.addEventListener('error', (e) => {
                isAudioPlaying = false;
                recordButton.disabled = false;
                console.error(`Error loading ${audio.name}:`, e);
                feedbackElement.textContent += `\nError: Failed to load ${audio.name}. Check file or network.`;
            });
            console.log(`Attempting to load ${audio.name}: ${element.src}`);
            element.load();
        }
    });

    // Initialize Speech Recognition
    function initSpeechRecognition() {
        if (!('webkitSpeechRecognition' in window)) {
            micStatusElement.textContent = "Speech recognition not supported in this browser.";
            recordButton.disabled = false;
            return null;
        }
        const recog = new webkitSpeechRecognition();
        recog.lang = 'sq-AL';
        recog.interimResults = false;
        recog.maxAlternatives = 1;
        return recog;
    }

    // Fisher-Yates shuffle algorithm
    function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
    }

    // Initialize or reset phrase queue
    function resetPhraseQueue() {
        phraseQueue = shuffleArray(phrases);
        console.log("Phrase queue reset:", phraseQueue.map(p => p.phrase));
    }

    async function checkMicPermission() {
        try {
            const permission = await navigator.permissions.query({ name: 'microphone' });
            micStatusElement.textContent = `Microphone: ${permission.state}`;
            return permission.state !== 'denied';
        } catch (err) {
            console.error("Error checking microphone permission:", err);
            micStatusElement.textContent = "Microphone: Error checking permission";
            return false;
        }
    }

    async function setupRecorder() {
        try {
            if (!(await checkMicPermission())) {
                feedbackElement.textContent = "Microphone access denied. Please allow in browser settings.";
                return false;
            }
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaStream = stream;
            const mimeType = 'audio/webm';
            mediaRecorder = new MediaRecorder(stream, { mimeType });
            recordedChunks = [];

            mediaRecorder.ondataavailable = (event) => {
                if (event.data.size > 0) {
                    recordedChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                isRecording = false;
                recordButton.classList.remove("recording2");
                cleanupStream();
                micStatusElement.textContent = "Microphone: Ready";
                if (recordedChunks.length === 0) {
                    feedbackElement.textContent = "No audio recorded. Please speak louder or check your microphone.";
                    recordingFeedbackElement.textContent = "";
                    return;
                }
                const blob = new Blob(recordedChunks, { type: mimeType });
                const audioUrl = URL.createObjectURL(blob);
                recordingFeedbackElement.innerHTML = `
                    <button onclick="document.getElementById('playback-audio2').play()">Play Recording</button>
                    <audio id="playback-audio2" src="${audioUrl}" hidden></audio>`;
            };

            mediaRecorder.onstart = () => {
                micStatusElement.textContent = "Microphone: Recording";
            };

            mediaRecorder.onerror = (event) => {
                console.error("MediaRecorder error:", event.error);
                feedbackElement.textContent = `Recording error: ${event.error}. Please try again.`;
                isRecording = false;
                recordButton.classList.remove("recording2");
                micStatusElement.textContent = "Microphone: Error";
                cleanupStream();
            };

            return true;
        } catch (err) {
            console.error("Error setting up recorder:", err);
            feedbackElement.textContent = `Failed to initialize recorder: ${err.message}.`;
            micStatusElement.textContent = "Microphone: Error";
            return false;
        }
    }

    function stopRecording() {
        if (mediaRecorder && mediaRecorder.state === 'recording') {
            if (recordingTimeout) {
                clearTimeout(recordingTimeout);
                recordingTimeout = null;
            }
            mediaRecorder.stop();
        }
        if (recognition && recognition.state !== 'stopped') {
            recognition.stop();
        }
        isRecording = false;
        recordButton.classList.remove("recording2");
        micStatusElement.textContent = "Microphone: Ready";
    }

    function cleanupStream() {
        if (mediaStream) {
            mediaStream.getTracks().forEach(track => track.stop());
            mediaStream = null;
        }
    }

    function pauseAllAudio() {
        audioElements.forEach(audio => {
            const element = document.getElementById(audio.id);
            if (element && !element.paused) {
                element.pause();
            }
        });
        if (speechSynthesis.speaking) {
            speechSynthesis.cancel();
        }
        isAudioPlaying = false;
        recordButton.disabled = false;
    }

    recordButton.addEventListener("click", async () => {
        if (!isPracticeStarted) {
            feedbackElement.textContent = "Please click 'Start' to begin practice.";
            return;
        }

        if (!isRecording) {
            if (!(await checkMicPermission())) {
                feedbackElement.textContent = "Microphone access denied. Please enable in browser settings.";
                return;
            }

            if (recordingTimeout) {
                clearTimeout(recordingTimeout);
                recordingTimeout = null;
            }
            mediaRecorder = null;
            recordedChunks = [];
            cleanupStream();
            if (!(await setupRecorder())) {
                feedbackElement.textContent = "Failed to initialize recorder.";
                return;
            }

            pauseAllAudio();

            try {
                mediaRecorder.start();
                if (recognition) {
                    recognition.start();
                }
                isRecording = true;
                recordButton.classList.add("recording2");
                recordingFeedbackElement.textContent = "Recording... Speak now!";
                feedbackElement.textContent = "Speak the phrase now!";
                recordingTimeout = setTimeout(() => {
                    stopRecording();
                }, 5000);
            } catch (err) {
                console.error("Error starting recorder:", err);
                feedbackElement.textContent = `Failed to start recording: ${err.message}.`;
                isRecording = false;
                recordButton.classList.remove("recording2");
                micStatusElement.textContent = "Microphone: Error";
                cleanupStream();
            }
        } else {
            stopRecording();
        }
    });

    function evaluateRecording(spokenText, confidence) {
        if (!currentPhrase) {
            feedbackElement.textContent = "No phrase loaded.";
            return;
        }
        if (!spokenText) {
            feedbackElement.textContent = "No speech detected. Try again.";
            return;
        }
        const normalizedSpoken = normalizeText(spokenText);
        const normalizedTarget = normalizeText(currentPhrase.phrase);
        if (normalizedSpoken === normalizedTarget) {
            feedbackElement.textContent = `Great job! You said "${spokenText}" correctly. (Confidence: ${(confidence * 100).toFixed(1)}%)`;
        } else {
            feedbackElement.textContent = `You said "${spokenText}". Try again! The correct phrase is "${currentPhrase.phrase}".`;
        }
    }

    window.nextPhrase = function() {
        if (!isPracticeStarted) return;

        if (phraseQueue.length === 0) {
            resetPhraseQueue();
        }

        currentPhrase = phraseQueue.shift();
        promptElement.textContent = `Say: "${currentPhrase.phrase}" (${currentPhrase.dialect})`;
        translationElement.textContent = "";
        translationElement.classList.add("hidden2");
        feedbackElement.textContent = "Listen, then record yourself.";
        recordingFeedbackElement.textContent = "";
        speakPhrase(currentPhrase.phrase);
    };

    window.startPractice = async function() {
        if (isPracticeStarted) return;
        isPracticeStarted = true;

        startButton.textContent = "Stop";
        startButton.classList.add("active2");

        nextButton.disabled = false;
        recordButton.classList.remove("hidden2");

        resetPhraseQueue();
        recognition = initSpeechRecognition();
        if (recognition) {
            recognition.onresult = (event) => {
                const spokenText = event.results[0][0].transcript;
                const confidence = event.results[0][0].confidence;
                evaluateRecording(spokenText, confidence);
            };
            recognition.onerror = (event) => {
                feedbackElement.textContent = `Speech recognition error: ${event.error}.`;
            };
            recognition.onend = () => {
                if (isRecording) {
                    stopRecording();
                }
            };
        }

        try {
            const recorderInitialized = await setupRecorder();
            if (!recorderInitialized) {
                feedbackElement.textContent = "Failed to initialize recorder.";
                recordButton.disabled = true;
                recordButton.classList.add("hidden2");
                stopPractice();
            } else {
                nextPhrase();
            }
        } catch (err) {
            console.error("Error in startPractice:", err);
            feedbackElement.textContent = `Failed to initialize practice: ${err.message}.`;
            stopPractice();
        }
    };

    window.stopPractice = function() {
        isPracticeStarted = false;

        startButton.textContent = "Start";
        startButton.classList.remove("active2");
        startButton.disabled = false;

        nextButton.disabled = true;
        recordButton.classList.add("hidden2");
        recordButton.disabled = false;
        promptElement.textContent = "Click 'Start' to begin!";
        translationElement.textContent = "";
        translationElement.classList.add("hidden2");
        feedbackElement.textContent = "";
        recordingFeedbackElement.textContent = "";
        micStatusElement.textContent = "";
        currentPhrase = null;
        phraseQueue = [];
        stopRecording();
        cleanupStream();
        pauseAllAudio();
        if (recognition) {
            recognition.stop();
            recognition = null;
        }
    };

    window.togglePractice = function() {
        if (isPracticeStarted) {
            stopPractice();
        } else {
            startPractice();
        }
    };

    window.playPhrase = function() {
        if (currentPhrase) {
            speakPhrase(currentPhrase.phrase);
        } else {
            feedbackElement.textContent = "No phrase loaded. Click 'Start'.";
        }
    };

    window.showTranslation = function() {
        if (currentPhrase) {
            translationElement.textContent = `Translation: ${currentPhrase.meaning}`;
            translationElement.classList.remove("hidden2");
            feedbackElement.textContent = "Nice try! Record again or click 'Next Phrase'.";
        }
    };

    function speakPhrase(text) {
        const phraseObj = phrases.find(p => p.phrase === text);
        if (phraseObj && phraseObj.audioId) {
            const audio = document.getElementById(phraseObj.audioId);
            audio.currentTime = 0;
            audio.play().catch(err => {
                console.error("Error playing audio:", err);
                feedbackElement.textContent = `Error playing audio for ${text}: ${err.message}.`;
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'sq-AL';
                utterance.onstart = () => {
                    isAudioPlaying = true;
                    recordButton.disabled = true;
                };
                utterance.onend = () => {
                    isAudioPlaying = false;
                    recordButton.disabled = false;
                };
                speechSynthesis.speak(utterance);
            });
        } else {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'sq-AL';
            utterance.onstart = () => {
                isAudioPlaying = true;
                recordButton.disabled = true;
            };
            utterance.onend = () => {
                isAudioPlaying = false;
                recordButton.disabled = false;
            };
            speechSynthesis.speak(utterance);
        }
    }
});
</script>
  </body>

</html>
